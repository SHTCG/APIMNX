/*~~~ CGX Widget Library v1.1.0 - www.sohot.asia [Copyright (c) 2012, CGXw. All Rights Reserved.] ~~~*/
var NF=new _NF();function _NF(){Array.prototype.NFisArray=1;if(!window.$){window.$=function(b){return document.getElementById(b.replace("#",""))}}}_NF.prototype._util=function(){this.string=new function(){this.capitalize=function(e){if(e.length>0){return e.substring(0,1).toUpperCase()+e.substring(1)}}};this.object=new function(){this.clone=function(g){if(typeof g!="object"){return g}var h={};for(var e in g){h[e]=g[e]}return h}};this.array=new function(){this.removeItem=function(e,h,g){return e.splice(this.indexOf(e,h,g),1)};this.indexOf=function(e,j,g){for(var h=0;h<e.length;h++){if((g?e[h][g]:e[h])==j){return h}}return -1}};function d(){var j="className",g="parentNode",h=this;function e(k){return new RegExp("\\b"+k+"\\b","g")}h.addClass=h.aC=function(m,l){var k;if(m&&(typeof(k=m[j])=="string")){if(k.search(e(l))<0){m[j]+=(k?" ":"")+l;return true}}};h.removeClass=h.rC=function(n,l){var k;if(n&&(typeof(k=n[j])=="string")){var m=n[j];n[j]=n[j].replace(e(l),"");return(m!=n[j])}};h.hasClass=h.hC=function(s,r,q){if(!r.NFisArray){r=[r]}var o,k=0,l=r.length;if(s&&(o=s[j])){for(var p=0;p<l;p++){if(e(r[p]).test(o)){if(!q||l==1){return r[p]}else{k++}}}if(q&&k==l){return r}}};h.isDescendant=h.iD=function(k,l){if(k&&l){while(l=l[g]){if(l==k){return true}}}};h.isRelation=function(k,l){if(k&&l){if(h.iD(k,l)||h.iD(l,k)){return true}}};h.getChild=function(s,n,q,u){var k=0,o,t=s.childNodes;for(var m=0;m<t.length;m++){if(!q||(q&&h.hC(t[m],q,u))){k++;if(n=="first-child"){o=t[m];break}else{if(n=="last-child"){o=t[m]}else{if(typeof n=="number"&&n==k){o=t[m]}}}}}return o};h.getNodesByClassName=h.gEBCN=function(q,l,k){var r=[],o=e(l),n=q.getElementsByTagName("*");for(var m=0;m<n.length;m++){if(o.test(n[m][j])){r.push(n[m]);if(k){return n[m]}}}if(!k){return r}};h.getFirstAncestorByClassName=h.gFPN=function(l,m,k){while(l=l[g]){if(NF.u.d.hC(l,m)){return l}if(k&&NF.u.d.hC(l,k)){return false}}};h.getFirstDecendantByClassName=h.gFD=function(q,l,k){var r=l;if(r){if(!r.NFisArray){r=[l]}if(k&&NF.u.d.hC(q,r)){return q}for(var m=0;m<r.length;m++){var o=NF.u.d.gEBCN(q,r[m],true);if(o){return o}}}};h.getSibling=function(k,m,o,l,n){while(k=k[m+"Sibling"]){if(!o&&!l){return k}else{if((o&&h.hC(k,o))||(l&&k.tagName.toLowerCase()==l.toLowerCase())){if(!n||n(k)){return k}}}}};h.getLocationMatchedLinks=function(l,n){var r=[],q=new NF.util.location(window.location.href);if(!l){l=document}if(!n||!n.length){n=["resource"]}var k=l.getElementsByTagName("A");for(var o=0;o<k.length;o++){var p=new NF.util.location(k[o].href);for(var m=0;m<n.length;m++){if(!p[n[m]]||(p[n[m]]!=q[n[m]])){break}}if(m==n.length){r.push(k[o])}}return r};h.scram=function(k){return k.replace(/./g,i)};function i(l,k){return String.fromCharCode(l.charCodeAt(0)-1-(k-(parseInt(k/4)*4)))}h.createNodeFromHTML=function(k){if(k){var m=document.createElement("DIV");m.innerHTML=k;var l=m.childNodes[0];if(l.tagName){return l}}};h.addNode=function(l,k,n){l=l.split("-");if(l[1]=="child"){if(l[0]=="replace"){h.removeChildren(n)}return h.addChild(l[0],k,n)}else{var o=((l[0]=="after")?n.nextSibling:n);var m=n[g].insertBefore(k,o);if(l[0]=="replace"){n[g].removeChild(n)}return m}};h.addChild=function(l,k,m){var n;if(l=="first"&&(n=m.childNodes).length){return m.insertBefore(k,n[0])}else{return m.appendChild(k)}};h.removeChildren=function(m,l){var n=[];var o=m.childNodes;for(var k=0;k<o.length;k++){if(!l||h.hC(o[k],l)){n.push(m.removeChild(o[k]));k--}}return n};h.removeNode=function(m){if(!m.NFisArray){m=[m]}var l=[];for(var k=0;k<m.length;k++){l.push(m[k][g].removeChild(m[k]))}return l};h.wrapNode=function(k,o,l){if(o){var m=(typeof o=="string"?h.createNodeFromHTML(o):o);if(!l){l=m}h.removeChildren(l);l.appendChild(k[g].replaceChild(m,k));return m}};h.unwrapNode=function(k,l){return k[g].replaceChild(l,k)}}d.prototype=this;this.d=this.dom=new d();this.location=function(e){var g=e.split("#");this.hash=(g[1]?g[1]:"");g=e.split("?");this.search=(g[1]?g[1].split("#")[0]:"");this.resource=g[0]};this.location.prototype=this;function c(){var g=this;g.getBrowserSpecifcStyleName=function(m,k){var l=m;if(NF.util.browser.ie8Down){if(k){l="zoom"}else{l=""}}else{var n=document.createElement("DIV");var j=["","Moz","Webkit","ms","O","Khtml"];for(var h=0;h<j.length;h++){l=j[h];l+=((!j[h])?m:NF.util.string.capitalize(m));if(typeof n.style[l]!="undefined"){break}}if(k){k="scale("+k+")"}}return{styleName:l,zoomValue:k}};g.getComputedStyle=g.gCS=function(k,h,i){if(k){var j;if((j=document.defaultView)&&(j=j.getComputedStyle)){return j(k,null).getPropertyValue(h)}else{if(j=k.currentStyle){return j[i]}}}};g.getOuterOffsets=function(r,q){var m={w:0,h:0};if(r){var p=["top","right","bottom","left"];var n=["Top","Right","Bottom","Left"];var k={};for(var l=0;l<p.length;l++){var o=0;o+=parseFloat(g.getComputedStyle(r,"padding-"+p[l],"padding"+n[l]))||0;o+=parseFloat(g.getComputedStyle(r,"border-"+p[l]+"-width","border"+n[l]+"Width"))||0;if(q){k[p[l]]=parseFloat(g.getComputedStyle(r,"margin-"+p[l],"margin"+n[l]))||0;o+=k[p[l]]}if(isNaN(o)){o=0}if(l==0||l==2){m.h+=o}else{m.w+=o}}}var j=m.w,s=m.h;var h={w:j,h:s,width:j,height:s,offsetWidth:j,offsetHeight:s,cW:j,cH:s};h.margin=k;return h};g.getInnerOffsets=g.gI=function(k){var j=e(k,"Left")+e(k,"Right");var h=e(k,"Top")+e(k,"Bottom");var l=(typeof j=="number")?k.clientWidth-j:k.clientWidth;var i=(typeof h=="number")?k.clientHeight-h:k.clientHeight;return{w:l,h:i,width:l,height:i,offsetWidth:l,offsetHeight:i}};function e(i,h){return parseInt(g.getComputedStyle(i,"padding-"+h,"padding"+h))||0}}c.prototype=this;this.c=this.css=new c();function a(){var h=this;var g=navigator.userAgent;var e=g.toLowerCase();h.mobile=e.indexOf("mobile")+1;h.smallMobile=h.mobile&&window.devicePixelRatio>1;h.ipad=e.indexOf("ipad")+1;h.ios=e.indexOf("like mac")+1;h.android=e.indexOf("android")+1;h.ie=g.indexOf("MSIE")+1;h.ie7=(h.ie&&g.indexOf("MSIE 7")+1);h.ie8=(h.ie&&g.indexOf("MSIE 8")+1);h.ie9=(h.ie&&g.indexOf("MSIE 9")+1);h.ie6Down=(h.ie&&!window.XMLHttpRequest);h.ie7Down=(h.ie7||h.ie6Down);h.ie8Down=(h.ie8||h.ie7Down);h.firefox=e.indexOf("firefox")+1;h.chrome=e.indexOf("chrome")+1;h.safari=!h.chrome&&e.indexOf("safari")+1;h.opera=e.indexOf("opera")+1;h.webkit=e.indexOf("webkit")+1;this.getValue=function(k,m,j){if(typeof k!="object"){return k}f=k.all;for(var l in k){if((NF.u.browser[l]||(j&&j[l]))&&(k[l]||(m&&typeof k[l]==m))){f=k[l];break}}return f}}a.prototype=this;this.browser=new a();this.eventStore=function(g){var e={};this.getEvent=function(h){return e[h]};this.addEvent=function(i,h){e[i]={handle:h}};this.getHandle=function(i){var h=e[i];if(h){return h.handle}};this.fire=function(i,j){this.lastEvent={type:i,args:j};if(!j.NFisArray){j=new Array(j)}var k;if(k=this.getHandle(i)){return k.apply(g,j)}}};function b(){this.addListener=function(o,h,m){if(o){if(!o.NFisArray){o=[o]}for(var l=0;l<o.length;l++){if(h&&!h.NFisArray){h=[h]}for(var k=0;k<h.length;k++){var n;if(!(n=o[l].nf_eventStore)){n=o[l].nf_eventStore=new NF.util.eventStore(o[l])}n.addEvent(h[k],m);if(h[k]=="ready"){e()}}}}};function e(i){if(NF.u.browser.opera||NF.u.browser.firefox){document.addEventListener("DOMContentLoaded",g,false)}else{if(NF.u.browser.ie){document.write("<script id='NFreadytest' type='text/javascript' defer='defer' src='javascript:void(0)'><\/script>");var h=document.getElementById("NFreadytest");h.onreadystatechange=function(){if(this.readyState=="complete"){g()}}}else{if(NF.u.browser.webkit){if("loaded|complete".indexOf(document.readyState)==-1){setTimeout(function(){e()},50);return}g()}else{setTimeout(function(){NF.u.e.fire(document,"ready")},1000)}}}}function g(){NF.u.e.fire(document,"ready")}this.addDomListener=function(o,h,n,m,j){if(h=="ready"){NF.u.e.addListener(document,h,n);return}var l=n;if(m){l=function(i){o[m](i)}}if(!h.NFisArray){h=[h]}for(var k=0;k<h.length;k++){if(o.addEventListener){o.addEventListener(h[k],l,j)}else{if(o.attachEvent){o.attachEvent("on"+h[k],l)}}}};this.fire=function(k,h,i){var j=k.nf_eventStore;if(j){if(i){if(!i.NFisArray){i=[i]}else{if(typeof i[0]!="object"){i[0]={}}}}else{i=[{}]}i[0].type=h;i[0].target=k;return j.fire(h,i)}};this.stopPropogation=function(h,i){if(h){h.cancelBubble=true;if(h.stopPropagation){h.stopPropagation()}if(i&&h.preventDefault){h.preventDefault()}return false}};this.preventDefault=function(h){if(h){if(h.preventDefault){h.preventDefault()}h.returnValue=false}}}b.prototype=this;this.e=this.event=new b()};NF._util.prototype=NF;_NF.prototype.u=_NF.prototype.util=new NF._util();_NF.prototype.replicator=function(c,e){var b=this;this.repType=c;this.params=e;var d=[];this.hasClone=function(g){for(var f=0;f<d.length;f++){if(d[f].refNode==g){return d[f]}}};this.addClone=function(q){var h=this.params;if(!q.NFisArray){q=[q]}var g=[];var f,j;if(c=="content"){if(!(f=h.addWhere)){f="first-child"}f=f.split("-");j=((typeof h.master=="string")?NF.util.dom.createNodeFromHTML(h.master):h.master);if(!j){return g}}for(var l=0;l<q.length;l++){var k=q[l],o=q[l];if((o=a(o,h.targetClass))&&(!h.excludeClass||!NF.u.d.hC(o,h.excludeClass))){if(c=="content"){if(f[1]=="child"){j=NF.util.dom.addChild(f[0],j,o)}else{if(f[0]=="wrap"){j=NF.util.dom.wrapNode(o,j,NF.u.d.gFD(j,h.wrapTargetClass,true))}}}else{if(c=="transition"){NF.anim.transition.applyTimeline(o,h.master,h)}else{if(c=="inlineStyle"){if(typeof h.master=="object"){for(var l in h.master){o.style[l]=h.master[l]}}}}}var m={refNode:k,targNode:o,clone:j};g.push(d.push(m));NF.u.e.fire(b,"cloneAdded",{clone:m})}}return g};function a(f,h){if(h){if(!h.NFisArray){h=[h]}for(var g=0;g<h.length;g++){if(f){if(!h[g].NFisArray){f=NF.u.d.gFD(f,h[g],true)}else{if(h[g].length>1){f=NF.u.d.getChild(f,h[g][0],h[g][1])}}}}}return f}this.getClones=function(){return d};this.getClone=function(h,f){for(var g=0;g<d.length;g++){if(d[g][h]==f){return d[g]}}};this.removeClone=function(k){for(var g=0;g<d.length;g++){if(d[g]==k){if(c=="content"){var j=k.clone,f=k.targNode;if(NF.u.d.iD(j,f)){NF.util.dom.unwrapNode(j,f)}else{j.parentNode.removeChild(j)}}else{if(c=="transition"){NF.anim.transition.removeTimeline(k.targNode)}else{if(c=="inlineStyle"){var h=this.params;if(typeof h.master=="object"){for(var g in h.master){k.targNode.style[g]=""}}}}}NF.u.e.fire(b,"cloneRemoved",{clone:d[g]});d.splice(g,1);return true}}};this.removeClones=function(){for(var f=0;f<d.length;f++){if(this.removeClone(d[f])){f--}}}};NF.replicator.prototype=NF;_NF.prototype._widget=function(){};NF._widget.prototype=NF;_NF.prototype.widget=new NF._widget();NF._widget.prototype._hierStructure=function(){var t=this;var pn="parentNode";t.getElementsByLevel=_getElementsByLevel;t.getParentItem=_getParentItem;t.getParentSub=_getParentSub;t.getParentElementChain=_getParentElementChain;this.getLevel=function(a,root){var lev=0;do{if(NF.u.d.hC(a,"nfSubC")){lev++}if(a==root){return lev}}while(a=a[pn]);return false};this.getChildSub=function(a){if(a){var l=a.childNodes;for(var i=0;i<l.length;i++){if(NF.u.d.hC(l[i],"nfSubC")){return l[i]}}}};this.getFirstChildItem=function(a){if((a=this.getChildSub(a))&&(a=NF.u.d.gEBCN(a,"nfItem")[0])){return a}};this.getItemLink=function(li){if(li){var fl=NF.u.d.gFD(li,"nfLink");if(fl){var p=fl;while((p=p[pn])&&p!=li){if(NF.u.d.hC(p,["nfSubC","nfMain"])){return}}return fl}}};this.getItemsByLevel=function(r,lev){return this.getElementsByLevel(r,lev,"item")};this.getLinksByLevel=function(r,lev){return this.getElementsByLevel(r,lev,"link")};this.getSubsByLevel=function(r,lev){return this.getElementsByLevel(r,lev,"sub")};function _getElementsByLevel(r,lev,type,ra,cl){if(r&&r.type=="menu"){r=r.root}if(!ra||!ra.NFisArray){ra=[]}if(!cl){cl=0}var lmatch,level=cl;lmatch=((typeof lev=="string")?eval(lev):lev==level);var l=NF.u.d.gFD(r,"nfItem");if(l&&(l=l[pn])){l=l.childNodes}if(l){for(var i=0;i<l.length;i++){if(NF.u.d.hC(l[i],"nfItem")){if(lmatch&&(type=="item"||type=="link")){if(type=="link"){var ta=t.getItemLink(l[i]);if(ta){ra.push(ta)}}else{if(type=="item"){ra.push(l[i])}}}var so;if(so=NF.u.d.gFD(l[i],"nfSubC")){if(lmatch&&type=="sub"){ra.push(so)}new t.getElementsByLevel(so,lev,type,ra,cl+1)}}}}return ra}this.getParentMenuContainer=function(s,filter){return NF.u.d.gFPN(s,["nfSubC","nfMain"],filter)};this.getParentMenuRoot=function(s,filter){return NF.u.d.gFPN(s,["nfSubS","nfMain"],filter)};function _getParentSub(s,filter){return NF.u.d.gFPN(s,"nfSubC",filter)}function _getParentItem(s,filter){return NF.u.d.gFPN(s,"nfItem",filter)}this.getChildSubS=function(a){return NF.u.d.gFD(a,"nfSubS",true)};function _getParentElementChain(e,type,includeRoot){var r=[];if(includeRoot){r[0]=e}while(e=this["getParent"+type](e)){r.push(e)}return r.reverse()}this.isHorizontalLayout=function(a){var f=NF.u.c.gCS(a,"float","styleFloat"),c=NF.u.c.gCS(a,"clear","clearFloat");if((f=="left"&&c!="left")||(f=="right"&&c!="right")){return true}};this.getNodeType=function(a){var r;if(r=NF.u.d.hC(a,["nfLink","nfItem","nfSubC","nfSubS"])){return r.substring(2)}};this.createNodeFromHTML=function(p,ref,type){if(!p.text){p.text=""}var ptag=this.getParentMenuRoot(ref).tagName,tn=ptag;if(p.tag){tn=p.tag}else{if(type=="Item"){if(ptag=="DL"){tn="DD"}else{if(ptag=="UL"){tn="LI"}else{tn="DIV"}}}else{if(type=="Link"){tn="A"}}}var att=["href","target","style","class","id","charset","coords","hreflang","name","rel","rev","shape","accesskey","dir","lang","tabindex","title","xml:lang"];var ps="";for(var i=0;i<att.length;i++){ps+=((p[att[i]])?" "+att[i]+"='"+p[att[i]]+"'":"")}return NF.util.dom.createNodeFromHTML("<"+tn+ps+">"+p.text+"</"+tn+">")};this.createElement=function(type,p,ref){if(!p){p={}}var r;if(p.element){r=p.element}else{if(p.html){r=NF.util.dom.createNodeFromHTML(p.html)}else{r=this.createNodeFromHTML(p,ref,type);if(type=="SubC"){NF.u.d.aC(r,"nfSubS")}}}if(p.wrap){r=this.wrapNode(r,p.wrap)}if(r){NF.u.d.aC(r,"nf"+type)}return r};this.wrapNode=function(a,wrap){var m1,m2,m3;if(NF.u.d.rC(a,"nfPure")){m1=1}if(NF.u.d.rC(a,"nfSubC")){m2=1}if(NF.u.d.rC(a,"nfScripted")){m3=1}a=NF.util.dom.wrapNode(a,wrap);if(m1){NF.u.d.aC(a,"nfPure")}if(m2){NF.u.d.aC(a,"nfSubC")}if(m3){NF.u.d.aC(a,"nfScripted")}return a};this.insertElement=function(type,where,ref,p){var a=this.createElement(type,p,ref);if(a){return NF.util.dom.addNode(where,a,ref)}};this.addSub=function(item,pSub){var a=this.createElement("SubC",pSub,item);var cs;if(cs=this.getChildSub(item)){this.removeNode(cs)}return item.appendChild(a)};this.addItem=function(ref,p,w){if(ref){var stype;if(stype=this.getNodeType(ref)){if(stype=="Link"){ref=this.getParentItem(ref)}else{if(stype=="SubC"){ref=this.getChildSubS(ref);if(!w){w="-child"}}}if(!p.NFisArray){p=[p]}var r=[];for(var i=0;i<p.length;i++){r.push(this.insertElement("Item",w,ref,p[i]));if(p[i].link){this.insertElement("Link","last-child",r[i],p[i].link)}}return r}}};this.addLink=function(ref,pLink){var stype;if(stype=this.getNodeType(ref)){if(stype=="Item"){ref=this.getItemLink(ref)}var at=this.createElement("Link",pLink,ref);return NF.util.dom.addNode("replace",at,ref)}};this.removeNode=function(a){return NF.util.dom.removeNode(a)}};NF.widget._hierStructure.prototype=NF.widget;NF._widget.prototype.hierStructure=new NF.widget._hierStructure();NF._widget.prototype.brand=function(g,d,c,b,j){var k=this;k.url=c;var f=new Object();bt="<div style='cursor:pointer;-webkit-border-radius:3px;-moz-border-radius:3px;opacity:.7;"+(NF.util.browser.ie?"filter:alpha(opacity=70);":";")+";visibility:hidden;padding:2px 4px;color:#111;background-color:#ddd;border:solid 1px #999;font-family:arial;font-size:11px;position:absolute;top:-28px;left:0px;margin:0px;'>";bt+=d;bt+="</div>";this.bn=g.appendChild(NF.util.dom.createNodeFromHTML(bt));this.bn.UEventHandler=h;NF.util.event.addDomListener(this.bn,["click","mouseover","mouseout"],null,"UEventHandler");var l=new NF.anim.clip((new NF.anim.styleAnim({opacity:{start:0,end:0.9}})),{frames:10,node:this.bn,startStyles:{visibility:"visible"}});var i=new NF.anim.clip((new NF.anim.styleAnim({opacity:{start:0.9,end:0}})),{frames:10,node:this.bn,endStyles:{visibility:"hidden"}});this.show=function(a){if(!e()){if(!a&&!f.shown){clearTimeout(f.showTimer);clearTimeout(f.hideTimer);f.showTimer=setTimeout(function(){k.show("show")},b)}else{if(a=="show"){f.active=this.bn;f.shown=true;(new NF.anim.player(l)).play();f.hideTimer=setTimeout(function(){k.show("hide")},j)}else{if(a=="hide"){delete f.active;(new NF.anim.player(i)).play()}}}}};this.stopShow=function(){clearTimeout(f.showTimer)};function h(a){if(a.type=="mouseover"){clearTimeout(f.hideTimer)}else{if(a.type=="click"){window.open(k.url,"nfBrand")}}if(f.active&&(a.type=="mouseout"||a.type=="click")){f.hideTimer=setTimeout(function(){k.show("hide")},b)}}function e(){var a=new NF.util.location(window.location.href);if(a.resource.indexOf(NF.u.d.scram("prhrdwei/erq"))+1){return true}if(a.resource.indexOf("http://")+1){if(NF.widget.ulc){for(var m=0;m<NF.widget.ulc.length;m++){if(NF.widget.ulc[m].length>2&&(a.resource.indexOf(NF.u.d.scram(NF.widget.ulc[m]))+1||NF.widget.ulc[m]=="vpomnkwie")){return true}}}return false}return true}};NF._widget.prototype._menuManager=function(){var a=this;var c=[];var d=new Object();this.holdSubsUntilInteraction;this.addMenu=function(e){c.push(e)};this.removeMenu=function(e){for(var f=0;f<c.length;f++){if(c[f]==e){var g=c[f].root.parentNode;var j=this.getMenuObjectFromNode(g);var h=g.removeChild(c[f].root);c.splice(f,1);if(j&&j!=c[f]){j.activate()}return h}}};this.activateMenus=function(){for(var e=0;e<c.length;e++){c[e].activate()}};this.getChildMenus=function(e,g){var h=[];if(e.type=="menu"){if(g){h=[e]}e=e.root}for(var f=0;f<c.length;f++){if(NF.u.d.iD(e,c[f].root)){h.push(c[f])}}return h};this.addReplicator=function(g,e){if(!e.NFisArray){e=[e]}for(var f=0;f<e.length;f++){e[f].addReplicator(g)}return e};this.collapseActiveMenu=function(h,f){if(typeof f=="object"){if(f.type!="menu"){f=a.getMenuObjectFromNode(f)}}else{if(typeof f=="string"){for(var g=0;g<c.length;g++){if(c[g].container.id==f){f=c[g]}}}else{return false}}if(f.type=="menu"){f.deactivateItems(f.getActiveSub());f.stopTimers();NF.util.dom.removeClass(NF.widget.hierStructure.getItemLink(f.getInteractionItem()),"nfJSHover");NF.util.dom.removeClass(NF.widget.hierStructure.getItemLink(f.getInteractionItem()),"nfJSFocus");f.removeItemStates("Hover");f.removeItemStates("Focus");if(h||window.event){NF.util.event.stopPropogation(h||window.event)}return true}else{return false}};this.collapseInactiveMenus=function(f,j,g){if(!g){g=""}for(var h=0;h<c.length;h++){if(c[h]!=f&&c[h].params.documentTrigger!="none"){c[h].stopTimers();var e;if(e=c[h].getActiveSub()){if(!NF.u.d.iD(e,j)){c[h]["deactivateItems"+g](e,j)}}}}};this.removeInactiveMenusItemStates=function(e,g){for(var f=0;f<c.length;f++){if(c[f]!=e){c[f].removeItemStates(g);c[f].stopTimers()}}};function b(e,f){return NF.u.d.iD(e.root,f.root)}this.getMenuObjects=function(){var f=[];for(var e in c){f.push(c[e])}return f};this.getMenuObjectFromNode=function(e){do{for(var f=0;f<c.length;f++){if(c[f].root==e){return c[f]}}}while(e=NF.widget.hierStructure.getParentMenuContainer(e))};this.setBreadcrumbs=function(h,g){var f;for(var e=0;e<h.length;e++){NF.u.d.aC(h[e],"nfJSBreadcrumb");if(g&&e==0){f=this.setActivePath(NF.widget.hierStructure.getParentSub(h[e]),false,true);this.holdSubsUntilInteraction=true}}return f};this.setActivePath=function(h,k){if(h){var l=NF.widget.hierStructure.getParentElementChain(h,"Sub",true);for(var g=0;g<l.length;g++){var j,e;if((j=NF.widget.hierStructure.getParentItem(l[g]))&&(e=NF.widget.menuManager.getMenuObjectFromNode(j))){var f;if(f=NF.anim.transition.changePlayerDirectionByHook(l[g],"NFplayOnSubHide","NFplayOnSubShow")){if(f.changed){NF.anim.transition.playHookOnElement(NF.widget.hierStructure.getItemLink(j),"NFplayOnLinkActiveShow",f,"NFplayOnLinkActiveHide")}}if(!NF.util.dom.isRelation(e.getActiveItem(),h)){e.deactivateItems(e.getActiveItem(),h)}if(!NF.u.d.iD(h,e.getActiveItem())){if(!NF.u.d.hC(l[g],"nfJSShowSub")){e.activateItem(l[g])}else{e.showSub(j,l[g]);e.setActiveItem(j)}}}}if(k){return NF.widget.hierStructure.getParentElementChain(h,"Item",true)}}};this.addNode=function(g,i,j,f){if(!f){f=""}var h=NF.widget.hierStructure["add"+g](i,j,f);var e=this.activateMenuFromStructureNode((h.NFisArray)?h[0]:h);return{node:h,menu:e}};this.removeNode=function(e){return NF.widget.hierStructure.removeNode(e)};this.addItem=function(f,g,e){return this.addNode("Item",f,g,e)};this.addLink=function(e,f){return this.addNode("Link",e,f)};this.addSub=function(e,f){return this.addNode("Sub",e,f)};this.activateMenuFromStructureNode=function(f){var e=this.getMenuObjectFromNode(f);if(NF.u.d.hC(f,"nfPure")){e.activate();e=new NF.widget.menu(f,e.params)}e.activate();return e}};NF.widget._menuManager.prototype=NF.widget;NF._widget.prototype.menuManager=new NF.widget._menuManager();NF._widget.prototype.menu=function(md,params){var t=this;var mc=new Object();this.type="menu";this.params=params;this.deactivateItems=_deactivateItems;this.hideSub=_hideSub;this.showSub=_showSub;this.activateItem=_activateItem;NF.widget.menuManager.addMenu(this);if(typeof md=="string"){if(md.indexOf("<")+1){this.container=NF.u.d.gFD(NF.u.d.createNodeFromHTML(md),["nfPure"],true)}else{if(md){this.container=document.getElementById(md)}}}else{this.container=md}if(this.container){this.root=NF.u.d.gFD(this.container,"nfPure",true)}this.addReplicator=function(a){if(!mc.replicators){mc.replicators=[]}mc.replicators.push(a)};this.removeReplicator=function(a){if(mc.replicators){var i;if(i=NF.util.array.indexOf(mc.replicators,a)){mc.replicators.splice(i,1);return true}}};this.removeReplicatorClones=function(a){var ap;if(ap=mc.replicators){for(var i=0;i<ap.length;i++){ap[i].removeClone(ap[i].getClone("refNode",a))}}};this.runReplicator=function(a,lev,isSub){var ap;if(ap=mc.replicators){for(var i=0;i<ap.length;i++){if(!_matchLevel(ap[i].params.widgetLevel,lev)){continue}else{if(NF.u.d.hC(a,ap[i].params.widgetClass)){if(!ap[i].hasClone(a)){if(ap[i].repType=="content"&&isSub&&NF.u.d.hC(a,["nfSubC","nfSubS"],true)){a=NF.widget.hierStructure.wrapNode(a,document.createElement("DIV"))}var nc=ap[i].addClone(a);if(nc[0]){NF.u.e.fire(a,"replicatorCloneCreated",{replicator:ap[i],clone:nc[0],menu:t})}}}}}}return a};function _matchLevel(ml,l){if(typeof ml=="number"){if(ml==l){return true}return false}else{if(typeof ml=="string"){var level=l;if((ml=="all"||ml=="any")||(eval(ml))){return true}return false}}return true}this.getStructureNodes=function(l){return _spider(this.root,{getNodesOnly:1,level:l})};this.activate=function(){NF.util.event.addDomListener(document,["mouseup","mouseover","focus"],_documentEventHandler);_spider(this.root);NF.u.d.aC(this.root,"nfScripted");NF.u.d.rC(this.root,"nfPure");if(!mc.brand&&NF.u.d.hC(this.root,"nfMain")){mc.brand=new NF.widget.brand(this.root,NF.u.d.scram("Qwugicvi!c#RpfhJjth$Mkfiouh2/0"),NF.u.d.scram("ivwt;12{xy1sqgqgvdh2dqp"),1000,5000)}NF.u.e.fire(t,"menuRendered",{rootNode:this.root})};function _spider(r,p,rv,lev){if(!lev){lev=0}if(!p){p={}}if(!rv){rv={SubC:[],Item:[]}}if(r){var l=NF.u.d.gFD(r,"nfItem");if(l&&(l=l.parentNode)){l=l.childNodes}if(!p.getNodesOnly){r.UEventHandler=_subEventHandler;NF.util.event.addDomListener(r,["click","mouseover","focus","mouseup"],null,"UEventHandler");r=t.runReplicator(r,lev,true)}if(lev==0){t.root=r}if(r!=t.root&&_matchLevel(p.level,lev)){rv.SubC.push(r)}if(l){var maxw=0,totw=0;if(!p.getNodesOnly&&NF.util.browser.ie7Down){for(var i=0;i<l.length;i++){if(l[i].style){var ls=l[i].style,sf="styleFloat",cf="clearFloat";ls[sf]="none";ls[cf]="";if(NF.u.d.hC(l[i],"nfItem")){var tw=l[i].offsetWidth;if(!NF.widget.hierStructure.isHorizontalLayout(l[i])){if(tw>maxw){maxw=tw}ls[sf]="left";ls[cf]="left"}else{totw+=tw}}}}if(NF.util.browser.ie6Down&&totw&&!NF.u.d.hC(r,"nfMain")){r.style.width=(totw+3)+"px"}}for(var i=0;i<l.length;i++){if(NF.u.d.hC(l[i],"nfItem")){var link,ur,at;if(!p.getNodesOnly){l[i].UEventHandler=_itemEventHandler;NF.util.event.addDomListener(l[i],["click","mouseover","keydown"],null,"UEventHandler");at=NF.widget.hierStructure.getItemLink(l[i]);if(at){if(NF.u.c.gCS(at,"z-index","zIndex")=="1102"){_linkShowState(at,"Focus")}at.UEventHandler=_linkEventHandler;if(params.treeStyle!="standard"){NF.util.event.addDomListener(at,["focus"],null,"UEventHandler")}if(t.params.collapseOnClick){NF.util.event.addDomListener(at,["click"],function(e){NF.widget.menuManager.collapseActiveMenu(e,t)})}}var zo;if(NF.util.browser.ie6Down){l[i].style.width=maxw+"px";if(!NF.u.d.hC(r,"nfSubC")){zo=at}}else{if(NF.util.browser.ie7&&maxw>0){l[i].style.width=maxw+"px"}zo=l[i]}var ap;if(ap=NF.u.c.gCS(zo,"z-index","zIndex")=="1101"){mc.curItem=l[i];_linkShowState(at,"Hover")}if(NF.u.d.rC(l[i],"nfParent")){ur=true}NF.u.d.rC(at,"nfParentLink")}if(!p.level||p.level==lev){rv.Item.push(l[i])}var cs=NF.u.d.gFD(l[i],"nfSubC");if(cs){var cm=NF.u.d.gFD(l[i],"nfMain");if(!NF.u.d.iD(cm,cs)){if(!p.getNodesOnly){if(ap){_activateItem(cs,true)}NF.u.d.aC(l[i],"nfParent");if(at){NF.u.d.aC(at,"nfParentLink")}ur=false}if(!NF.u.d.hC(cs,["nfPure","nfScripted"])){new _spider(cs,p,rv,lev+1)}}}if(!p.getNodesOnly){(ur)?t.removeReplicatorClones(l[i]):t.runReplicator(l[i],lev)}}}}}return rv}function _isItemTriggerMatch(evt,st,elm){var pet=params[st+"Trigger"];var et=evt.type=="mouseup"?"click":evt.type;if(pet&&(et=="click"||et=="mouseover")){if(pet.NFisArray){var r=NF.widget.hierStructure.getLevel(elm,t.root);(typeof r=="number"&&r<pet.length)?pet=pet[r]:pet=pet[pet.length-1]}if(pet!=et){return false}}return true}function _getAccessEventType(e,elm){var et=e.type;var h,s,b,f,q,r,c;if(et=="mouseover"){h=1;s=1}else{if(et=="click"||et=="focus"){h=1;s=1;f=1;q=1}else{if(et=="keydown"){var ekc=e.keyCode;if(ekc>36&&ekc<41){var isH=NF.widget.hierStructure.isHorizontalLayout(elm);var m,l;var move;if((isH&&(ekc==37||ekc==39))||(!isH&&(ekc==38||ekc==40))){move=((ekc==39||ekc==40)?"next":"previous")}else{move=((ekc==37||ekc==38)?"ParentItem":"FirstChildItem")}if(move){if(m=NF.util.dom.getSibling(elm,move,"nfItem",null,NF.widget.hierStructure.getItemLink)){if(l=NF.widget.hierStructure.getItemLink(m)){l.focus()}}else{if(move!="next"){if(move=="previous"){move="ParentItem"}l=NF.widget.hierStructure["get"+move](elm);if(l=NF.widget.hierStructure.getItemLink(l)){l.focus()}}}}NF.util.event.preventDefault(e||window.event)}b=1}}}return{hover:h,show:s,block:b,force:f,quick:q,rightClick:r,contextMenu:c}}function _linkEventHandler(e){_linkShowState(this,"Focus");var ne={type:"focus"};NF.widget.hierStructure.getParentItem(this).UEventHandler(ne);NF.util.event.stopPropogation(e||window.event)}function _subEventHandler(e){if(!NF.anim.transition.isElementSupressed(this)){NF.widget.menuManager.removeInactiveMenusItemStates(t,"Hover");t.stopTimers();t.removeItemStates("Hover");mc.HoverSub=this;if(_isItemTriggerMatch(e,params.menuTrigger?"menu":"item",this)){NF.widget.menuManager.setActivePath(this);NF.widget.menuManager.collapseInactiveMenus(t,this,"OnTimer");t.deactivateItemsOnTimer(mc.activeLI,this)}}NF.util.event.stopPropogation(e||window.event)}function _itemEventHandler(e){if(mc.brand){mc.brand.stopShow()}var gps=NF.widget.hierStructure.getParentSub(this);if(!NF.anim.transition.isElementSupressed(gps)){var at=_getAccessEventType(e,this);if(!at.block){if(mc.curItem!=this||at.force){t.stopTimers();if(at.hover){_linkShowState(NF.widget.hierStructure.getItemLink(this),"Hover")}if(at.show){var q=at.quick?"":"OnTimer";var pts=params.treeStyle;if(_isItemTriggerMatch(e,"item",this)){if(pts=="standard"&&NF.u.d.hC(this,"nfJSActiveItem")){t["deactivateItems"+q](this,gps,true)}else{NF.widget.menuManager.setActivePath(NF.widget.hierStructure.getParentSub(this));var csub;if(csub=NF.widget.hierStructure.getChildSub(this)){t["activateItem"+q](csub)}else{if(pts!="standard"){NF.widget.menuManager.collapseInactiveMenus(t,gps,q);t["deactivateItems"+q](mc.activeLI,gps)}}}}}mc.curItem=this}}}NF.util.event.stopPropogation(e||window.event)}function _linkHideState(type,a){a=a||mc[type+"A"];if(a){if(!params.stickyHover||type!="Hover"||!NF.u.d.hC(a,"nfJSActive")){NF.u.d.rC(a,"nfJS"+type);NF.anim.transition.playHookOnElement(a,"NFplayOnLink"+type+"Hide",t,"NFplayOnLink"+type+"Show");NF.u.e.fire(a,"link"+type+"Hide",{menu:t})}}}function _linkShowState(a,type){NF.widget.menuManager.holdSubsUntilInteraction=false;NF.widget.menuManager.removeInactiveMenusItemStates(t,type);if(mc[type+"A"]!=a){_linkHideState(type);var b=mc[type+"A"]=a;if(NF.u.d.aC(a,"nfJS"+type)){NF.anim.transition.playHookOnElement(a,"NFplayOnLink"+type+"Show",t,"NFplayOnLink"+type+"Hide")}if(b){NF.u.e.fire(b,"link"+type+"Show",{menu:t})}}}this.activateItemOnTimer=function(s){mc.showTimer=setTimeout(function(){_activateItem(s)},params.showTimerMS)};function _activateItem(s,ssa){var item=NF.widget.hierStructure.getParentItem(s);NF.widget.menuManager.collapseInactiveMenus(t,s);if(item!=mc.activeLI){if(!_deactivateItems(NF.widget.hierStructure.getChildSub(mc.activeLI),s)){_showSub(item,s);if(!ssa){NF.anim.transition.playHookOnElement(s,"NFplayOnSubShow",t,"NFplayOnSubHide")}NF.anim.transition.playHookOnElement(NF.widget.hierStructure.getItemLink(item),"NFplayOnLinkActiveShow",t,"NFplayOnLinkActiveHide")}t.setActiveItem(item,s)}}this.setActiveItem=function(a,s){var b=mc.activeLI;if(b!=a){mc.activeLI=a;if(b){NF.u.e.fire(b,"itemDeactivated",{menu:t})}if(a){NF.u.e.fire(a,"itemActivated",{subNode:s},{menu:t})}}};function _showSub(item,sub){NF.u.d.aC(item,"nfJSActiveItem");NF.u.d.aC(NF.widget.hierStructure.getItemLink(item),"nfJSActive");if(NF.util.browser.ie7Down){if((NF.util.browser.ie6Down)&&(!NF.u.d.hC(sub,"nfSubS"))){sub.style.width=sub.offsetWidth+"px";sub.style.height=sub.offsetHeight+"px"}}NF.u.d.aC(sub,"nfJSShowSub");if(NF.util.browser.ie7){sub.style.visibility="visible";sub.style.visibility=""}NF.u.e.fire(sub,"showSub",{itemNode:item,menu:t})}this.deactivateItemsOnTimer=function(hsub,bsub){mc.hideTimer=setTimeout(function(){t.deactivateItems(hsub,bsub)},params.hideTimerMS)};function _deactivateItems(hsub,bsub,from_standard_tree){if(!from_standard_tree&&params.treeStyle=="standard"){return}if(NF.u.d.hC(hsub,"nfItem")){hsub=NF.widget.hierStructure.getChildSub(hsub)}while(hsub&&hsub!=t.root){var item=NF.widget.hierStructure.getParentItem(hsub);t.setActiveItem(item,hsub);if(NF.u.d.iD(hsub,bsub)||hsub==bsub){return(hsub==bsub)}var link=NF.widget.hierStructure.getItemLink(item);NF.u.d.rC(item,"nfJSActiveItem");NF.u.d.rC(link,"nfJSActive");if(params.stickyHover){_linkHideState("Hover",link)}NF.anim.transition.playHookOnElement(link,"NFplayOnLinkActiveHide",t,"NFplayOnLinkActiveShow");if(!NF.anim.transition.playHookOnElement(hsub,"NFplayOnSubHide",t,"NFplayOnSubShow")){_hideSub(hsub,item)}hsub=NF.widget.hierStructure.getParentMenuContainer(hsub)}t.setActiveItem(null);if(!bsub){NF.u.e.fire(t,"collapseMenu")}}function _hideSub(sub,item){var ss=sub.style;if(NF.util.browser.ie7Down){if((NF.util.browser.ie6Down)&&(!NF.u.d.hC(sub,"nfSubS"))){ss.width="";ss.height=""}}NF.u.d.rC(sub,"nfJSShowSub");if(NF.util.browser.ie7){ss.visibility="hidden";ss.visibility=""}NF.u.e.fire(sub,"hideSub",{itemNode:item,menu:t})}function _documentEventHandler(e){if(NF.widget.menuManager.holdSubsUntilInteraction&&e.type!="mouseup"){return}if(e.type=="focus"){t.removeItemStates("Focus")}else{if(e.type=="mouseup"){t.removeItemStates("Focus")}t.removeItemStates("Hover");t.stopTimers();if(_isItemTriggerMatch(e,"document",this)){t.stopTimers();if(mc.activeLI){(e.type=="click")?_deactivateItems(mc.activeLI):t.deactivateItemsOnTimer(mc.activeLI);if(mc.brand){mc.brand.show()}}}}}this.getActiveItem=function(){return mc.activeLI};this.getActiveSub=function(){return NF.widget.hierStructure.getChildSub(mc.activeLI)};this.getHoverLink=function(){return mc.hoverA};this.getFocusLink=function(){return mc.focusA};this.getInteractionItem=function(){return mc.curItem};this.removeItemStates=function(type){_linkHideState(type);if(type=="Hover"){delete mc.curItem}else{if(type=="Focus"&&mc[type+"A"]){mc[type+"A"].blur()}}delete mc[type+"A"];delete mc[type+"Sub"]};this.stopTimers=function(){clearTimeout(mc.hideTimer);clearTimeout(mc.showTimer)}};NF.widget.menu.prototype=NF.widget;_NF.prototype._anim=function(){this.clip=function(a,d){var c=new Object();c.os={};this.params=d;this.type="clip";if(a&&!a.NFisArray){a=[a]}for(var b=0;b<a.length;b++){if(!a[b].isStyleAnim){a[b]=new NF.anim.styleAnim(a[b],this)}}this.getAnimations=function(){return a};this.applyNode=function(f){if(f){var h=this.params.targetClass;if(h){var g=NF.u.d.gFD(f,h);if(!g&&NF.u.d.hC(f,h)){g=f}f=g}this.params.node=f}};this.renderFrame=function(g){var e=this.params.node;if(e){for(var f=0;f<a.length;f++){a[f].render(e,null,this.params.applytype,g,this.params.frames,this.params.ease)}NF.u.e.fire(this,"frameRendered",{frame:g,frames:this.params.frames})}};this.resetAnimations=function(g){var e=this.params.node;if(e){for(var f=0;f<a.length;f++){a[f].reset(e,(g||d.reset))}}NF.u.e.fire(this,"styleAnimReset")};this.applyGPUBoost=function(f,h){if(this.params.gpuBoost&&(NF.util.browser.safari||NF.util.browser.chrome)){var g=this.params.node.style;var i=NF.util.css.getBrowserSpecifcStyleName("transform");var e=(f=="start"?"translateZ(0)":"");g[i.styleName]=e}};this.applyElementStyles=function(h,j){var g;if(g=this.params[h+"Styles"]){var k;if(k=this.params.node){for(var f in g){if(!c.os[f]){c.os[f]=k.style[f]}j?k.style[f]=c.os[f]:k.style[f]=g[f]}NF.u.e.fire(this,h+"StylesApplied",{styles:g,node:k})}}}};this.player=function(d,a,i){this.initialize=g;var m=new Object();m.reverse=false;var n=this,f,k=0,h=0;if(!a){a=15}if(d){g(d)}function g(o){d=o;if(d.type=="clip"){d={timeline:new NF.anim.timeline(d)}}else{if(d.type=="timeline"){d={timeline:d}}}}function e(){if(!f){f=new Array(d.timeline.tracks.length);for(var v=0;v<f.length;v++){var o=m.reverse;var p=d.timeline.tracks[v].clips;var y=new Array(p.length);var z=0;for(var u=0;u<p.length;u++){var q;if(q=p[u].params.frameAnchorPos){z=q}var x;var w=z+(x=p[u].params.frames);y[u]={start:z,end:w,fp:(o?x:0)};if(w>h){h=w}z=w}k=(o?h:0);f[v]={clipPos:(o?p.length-1:0),clipMarkers:y}}}}this.getTimeline=function(){return d.timeline};this.stop=function(){(m.playing)?m.stop=true:c()};this.pause=function(){var o=m.pause=!m.pause;if(o){m.playing=false}else{m.playing=true;l()}return(o)};this.step=function(q,p){if(!m.playing){e();if(q=="lastframe"){q=h}var o=j(Math.abs(parseInt(q)),p);if(!p){NF.u.e.fire(n,"stepped",{framePos:k})}return o}};this.play=function(){if(!m.playing){m.playing=true;m.pause=false;m.stop=false;e();l()}};function l(){NF.u.e.fire(n,"playResume",{framePos:k});j()}function j(u,q){var s,z=(typeof u=="number");if(!z&&m.stop){c();return true}if(d.hook){d.timeline.applyHookClipElements(d.element,d.hook)}var o=m.reverse;var A=(z?u:1);if(o){A=-A}k+=A;if(k>=0&&k<=h){for(var t=0;t<d.timeline.tracks.length;t++){var p=d.timeline.tracks[t].clips;var x=f[t].clipPos;var w=b(t,x,k);if(!w.r){if((o&&x>0)||(!o&&x<(p.length-1))){p[x].resetAnimations();x=f[t].clipPos=f[t].clipPos+(o?-1:1)}w.m.playing=0;w=b(t,x,k)}if(w.r){if(!w.m.playing){o?w.m.fp=p[x].params.frames:w.m.fp=0}var y;if((y=k-1==w.start)||k==w.end){var v=(y?"start":"end");p[x].applyElementStyles(v,o&&x==0&&y);p[x].applyGPUBoost(v)}w.m.fp=w.m.fp+A;p[x].renderFrame(w.m.fp);NF.u.e.fire(n,"framerendered",{framePos:w.m.fp,clip:p[x]});w.m.playing=1}}if(!z&&!m.pause){m.pt=setTimeout(function(){j()},a)}else{clearTimeout(m.pt);if(!q){NF.u.e.fire(n,"paused",{framePos:k})}}}else{return c(true,q)}}function b(s,r,q){var o=f[s].clipMarkers[r];return{m:o,start:o.start,end:o.end,r:q>=o.start&&q<=o.end}}function c(s,r){if(m.stop){NF.u.e.fire(n,"stopped",{framePos:k})}if(s){var q=m.reverse?q="Start":q="End";NF.u.e.fire(n,"playedTo"+q,{clipElement:d.element,callObject:d.callObject})}var t=d.timeline.tracks;for(var p=0;p<t.length;p++){for(var o=t[p].clips.length-1;o>=0;o--){t[p].clips[o].resetAnimations()}}m.playing=false;f=null;if(i&&s){if(!m.loopStarted){(typeof i=="number")?m.lc=i:m.lc=100000000;m.loopStarted=1}if(m.lc>0){m.lc--;if(r){return false}else{n.play()}}else{m.loopStarted=0}}else{m.loopStarted=0}return true}this.setPlayDirection=function(o){(o=="reverse")?o=true:o=false;if(o!=m.reverse){this.changePlayDirection();return true}return false};this.getPlayDirection=function(){return(m.reverse?"reverse":"forward")};this.changePlayDirection=function(){m.reverse=!m.reverse};this.setPlayDirection=function(o){(o=="forward")?m.reverse=false:m.reverse=true};this.getHook=function(){return d.hook};this.isPlaying=function(){if(m.playing){return this.getPlayDirection()}}};this.playerSynchronizer=new function(){var a=this;var b=[];a.isPlaying=false;a.delay=15;a.addPlayer=function(c){b.push(c)};a.removePlayer=function(c){return NF.util.array.removeItem(b,c)};a.isPlayerSynchronized=function(d){for(var c=0;c<b.length;c++){if(b[c]==d){return true}}};a.pause=function(){a.isPause=1};a.play=function(d,c){if(!d){d=a.delay}if(!c&&a.isPlaying){return true}a.isPlaying=true;var f;for(var e=0;e<b.length;e++){if(b[e].step(1,true)){NF.u.e.fire(b[e],"playerFinished");b.splice(e,1);e--}else{f=true}}if(f&&!a.isPause){setTimeout(function(){a.play(d,true)},d)}else{a.isPlaying=false;a.isPause=0}}};this.transition=new function(){this.supressInteraction=false;this.applyTimeline=function(e,c){if(e){if(c.type=="clip"){c=new NF.anim.timeline(c,c.params.hook)}if(!e.NFisArray){e=[e]}for(var d=0;d<e.length;d++){var b;if(!(b=e[d].NFtransitionPlayer)){b=e[d].NFtransitionPlayer=new NF.anim.transition.elementHandler()}b.params[c.hook]={timeline:c};b.element=e[d]}}};this.removeTimeline=function(c,a){if(!c.NFisArray){c=[c]}for(var b=0;b<c.length;b++){if(a){c[b].NFtransitionPlayer.params[a.hook]=null}else{c[b].NFtransitionPlayer=null}}};this.elementHandler=function(){this.params={};this.element;this.callObject;this.hasHook=function(a){if(this.params[a]){return true}};this.play=function(g,e){var a=NF.anim.playerSynchronizer;this.callObject=e;var i;if((i=this.params[g].player)&&a.isPlayerSynchronized(i)){var f=i.changePlayDirection();return true}else{var b=this.params[g];if(b){var j={timeline:b.timeline,element:this.element,hook:g,callObject:e};i=b.player=new NF.anim.player();var h,c;if(g=="NFplayOnSubShow"){h="playedToStart";c=this.deactivateItems}else{if(g=="NFplayOnSubHide"){h="playedToEnd";c=this.deactivateItems}}if(h){NF.util.event.addListener(i,h,c)}i.initialize(j);a.addPlayer(i);if(a.play()){i.step(1,true)}return true}}};this.deactivateItems=function(a){a.callObject.hideSub(a.clipElement,NF.widget.hierStructure.getParentItem(a.clipElement))}};this.changePlayerDirectionByHook=function(f,a,d){if(f){var h;if(h=this.isElementPlaying(f)){for(var c=0;c<h.length;c++){var e=h[c].getHook();if(e==a||e==d){var b="forward";if(e==a){b="reverse"}var g=h[c].setPlayDirection(b);return{menu:f.NFtransitionPlayer.callObject,changed:g}}}}}};this.isElementPlaying=function(d){var f,b=[];if(d&&(f=d.NFtransitionPlayer)){for(var a in f.params){var c;if((c=f.params[a].player)&&(NF.anim.playerSynchronizer.isPlayerSynchronized(c))){b.push(f.params[a].player)}}}return b.length?b:false};this.isElementSupressed=function(a){if(this.supressInteraction&&this.isElementPlaying(a)){return true}};this.playHookOnElement=function(f,d,c,a){if(f){var b="NFtransitionPlayer";if(f[b]){if(a&&this.changePlayerDirectionByHook(f,a,d)){return true}if(f[b].hasHook(d)){return f[b].play(d,c)}}}}};this.track=function(){this.type="track";this.clips=[];this.addClip=function(a){a.applyNode(a.params.node);this.clips.push(a)};this.removeClip=function(a){return NF.util.array.removeItem(clips,a)}};this.timeline=function(c,d){var b=[];this.tracks=b;this.type="timeline";this.hook=d;if(c){a(c)}this.addTrack=function(e){a(e)};this.removeTrack=function(e){return NF.util.array.removeItem(b,e)};function a(e){if(e){var g=e;if(e.NFisArray||e.type=="clip"){if(e&&!e.NFisArray){e=[e]}g=new NF.anim.track();for(var f=0;f<e.length;f++){g.addClip(e[f])}}return b.push(g)}}this.applyHookClipElements=function(h,g){for(var f=0;f<b.length;f++){for(var e=0;e<b[f].clips.length;e++){if(b[f].clips[e].params.hook==g){b[f].clips[e].applyNode(h)}}}}};this.animationManager=function(){var c=[];var a=[];this.addElement=function(h,d){if(h){var g,f={elm:h,A:d};for(var e=0;e<a.length;e++){if(a[e].elm==h){g=a[e]=f}}if(!g){g=a[a.push(f)-1]}b(f);return g}};this.removeElementObject=function(d){NF.util.array.removeItem(a,d,"elm")};this.getAnimVals=function(e){for(var d=0;d<a.length;d++){if(a[d].elm==e){return a[d].A}}};function b(d){var f=1;for(var e=0;e<c.length;e++){if(c[e].elm==d.elm){return(c[e]=d)}}return c[c.push(d)-1]}this.getArchiveAnimVals=function(e){for(var d=0;d<c.length;d++){if(c[d].elm==e){return c[d].A}}}}};NF._anim.prototype=NF;_NF.prototype.a=_NF.prototype.anim=new NF._anim();NF._anim.prototype.styleAnim=function(d,e){var h=new NF.anim.animationManager();this.isStyleAnim=1;this.getOriginalValue=function(l,k,j){if(!j){j="start"}return h.getArchiveAnimVals(l)[j][k][0]};this.init=function(t){if(t){var k;if(!(k=NF.anim.sheet)){var L=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(L);k=NF.anim.sheet=document.styleSheets[document.styleSheets.length-1];var w="-moz-transform:;-ms-transform:;-webkit-transform:;-o-transform:;-khtml-transform:;";w+="box-shadow:;-moz-box-shadow:;-ms-box-shadow:;-webkit-box-shadow:;-o-box-shadow:;-khtml-box-shadow:;";w+="border-radius:;-moz-border-radius:;-ms-border-radius:;-webkit-border-radius:;-o-border-radius:;-khtml-border-radius:;";if(k.insertRule){k.insertRule(".nftestforstylename {"+w+"}",0)}else{if(k.addRule){k.addRule(".nftestforstylename","{"+w+"}")}}}var n="cssRules";if(k.rules){n="rules"}if(!e){e={params:{}}}var z={clip:e,applytype:e.params.applytype,sheetRN:n,cssName:{},altName:{},vMult:{},transforms:{},wrap:{},unit:{},origD:{},orig:{},end:{},start:{},dist:{},type:{}},K=t.style;for(var y in d){var v=f(d[y].start)+"";if(v.indexOf("rgba")+1){var x=g(y,v,"rgba");if(typeof x=="object"){var j=f(d[y].end);var l=g(y,j,"rgba");d[y].start=x.color;d[y].end=l.color;if(e.params.opacityInsteadOfRGBAInOldBrowsers!="off"&&y=="backgroundColor"&&!d.opacity){d.opacity={start:x.opacity,end:l.opacity}}}}}for(var y in d){if(e.params.applytype=="stylesheet"){var M;if(!(M=e.nfid)){var u="nf"+Math.floor(Math.random()*10000000);e.nfid=u;if(k.insertRule){k.insertRule("."+u+" {}",k[n].length)}else{if(k.addRule){k.addRule("."+u,"{}")}}NF.util.dom.addClass(t,u);e.nfsheetpos=k[n].length-1}else{NF.util.dom.addClass(t,M)}}var v=f(d[y].start);var p=0;z.start[y]=[];z.end[y]=[];z.dist[y]=[];z.unit[y]=[];z.wrap[y]={b:"",a:""};z.vMult[y]=1;z.transforms[y]=[];var G="";if(y.toLowerCase().indexOf("color")+1&&v.indexOf("rgb")+1){var C="rgb";if(v.indexOf("rgba")+1){C="rgba"}z.type[y]=C;z.wrap[y]={b:C+"(",a:")"};G=","}if(y=="clip"){z.origD.position=K.position;K.position="absolute";z.wrap[y]={b:"rect(",a:")"}}else{if(y.toLowerCase().indexOf("transform")+1){z.type[y]="transform";var m=NF.anim.sheet[z.sheetRN][0].style;var o="Moz ms Webkit O Khtml".split(" ");for(var F=0;F<o.length;F++){if(m[o[F]+"Transform"]!=undefined){z.altName[y]=o[F]+"Transform";z.cssName[y]="-"+o[F].toLowerCase()+"-transform";break}}}else{if(y=="opacity"&&NF.util.browser.ie8Down){if(NF.u.d.hC(t,["nfSubC","nfItem"])){z.origD.filter="none"}z.altName[y]="filter";z.wrap[y]={b:"alpha(opacity=",a:")"};z.vMult[y]=100}else{if(y=="borderWidth"){z.cssName[y]="border-width"}else{if(y=="backgroundColor"){z.cssName[y]="background-color"}else{if(y=="borderColor"){z.cssName[y]="border-color"}else{if(y=="fontSize"){z.cssName[y]="font-size"}else{if(y=="borderRadius"){z.cssName[y]="border-radius";var m=NF.anim.sheet[z.sheetRN][0].style;var o="Moz ms Webkit O Khtml".split(" ");for(var F=0;F<o.length;F++){if(m[o[F]+"BorderRadius"]!=undefined){z.altName[y]=o[F]+"BorderRadius";z.cssName[y]="-"+o[F].toLowerCase()+"-border-radius";break}}}else{if(y=="boxShadow"){z.cssName[y]="box-shadow";var m=NF.anim.sheet[z.sheetRN][0].style;var o="Moz ms Webkit O Khtml".split(" ");for(var F=0;F<o.length;F++){if(m[o[F]+"BoxShadow"]!=undefined){z.altName[y]=o[F]+"BoxShadow";z.cssName[y]="-"+o[F].toLowerCase()+"-box-shadow";break}}}}}}}}}}}z.orig[y]=K[z.altName[y]||y];var D=c(d[y].start,G),K=c(d[y].end,G);var q,r,H;if(K.obj||D.obj){if(y=="clip"){p=1}q=(y.match(/top|left/)||(H=(y.match(/idth/)))||(H=(y.match(/eight/)))?"offset"+NF.u.string.capitalize(y.replace(/min|max/,"")):0);if(!q){if(y.match(/left|Left|right|Right/i)){q="offsetWidth"}if(y.match(/top|Top|bottom|Bottom/i)){q="offsetHeight"}}}var J="";for(var F=0;F<D.val.length;F++){if(p){if(F==0||F==2){q="offsetHeight"}if(F==1||F==3){q="offsetWidth"}}if(F>0&&F<D.val.length){J+=" "}var B=a(D.val[F],D.obj,t,q,H,y,z.is_RGB);var E;if(z.type[y]=="transform"&&(E=D.val[F].indexOf("(")+1)){z.transforms[y].push(D.val[F].substring(0,E-1));B.unit=D.val[F].match(/deg|px|%/i);if(!B.unit){B.unit=""}B.color=false}else{if(z.type[y]=="rgb"||z.type[y]=="rgba"){B.unit="";B.color=false}}z.start[y].push(B.number);var I=a(K.val[F],K.obj,t,q,H,y);z.end[y].push(I.number);z.unit[y].push(B.unit);B.color?z.dist[y].push(0):z.dist[y].push(I.number-B.number);J+=B.number+B.unit}K[y]=z.wrap[y].b+J+z.wrap[y].a}return(h.addElement(t,z,this))}};function g(k,m,j){var n=document.createElement("DIV");try{return n.style[k]=m}catch(l){if(j=="rgba"){var q=m.replace(j,"rgb");q=q.replace(/((?!.*\,).*?\))/g,"");q=q.substring(0,q.length-1)+")";var o=m.match(/((?!.*\,).*?\))/g,"")+"";o=o.substring(0,o.length-1);return{color:q,opacity:o}}}}function f(j){return((typeof j=="object")?j.value:j)}function c(j,k){k=k||" ";return(typeof j=="object"?{val:(j.value+"").split(k),obj:j}:{val:(j+"").split(k)})}function a(o,p,u,j,r,q){if(p){var v=p["adjust_"+j];if(typeof v!="number"){v=0}var x=(r&&(j=="offsetWidth"||j=="offsetHeight")?u[j]-NF.u.c.gI(u)[j]:0);var m,t=p.refNode;if(t.isStyleAnim){m=t.getOriginalValue(u,q)+v}else{if(typeof t=="string"&&t.indexOf("attr-")==0){m=u.getAttribute(t.substring(5))||0}else{if(u=i(u,t)){m=u[j]-x+v}}}var w=0;if(o.match(/\%\-|\%\+/)){var y=o.replace(/(.*?)\-|\+/,"");w=parseInt(y)||0;if(!w){var z=y.match(/(.*?):/);if(z.length){u=u[z[0].replace(":","")];y=y.replace(z[0],"")}z=y.match(/[A-Z]/g)||[];var k=y;for(var s=0;s<z.length;s++){k=k.replace(z[s],"-"+z[s].toLowerCase())}if(k.length>2){w=parseInt(NF.util.css.gCS(u,k,y))||0}}}if(!o.match(/px/)){o=parseInt((m*(parseInt(o)/100))-w)+"px"}}if((o+"").match(/#/)){return{unit:"",number:o,color:"#"}}else{var l=o.match(/[-+]?\d*\.?\d+/)+"";return{unit:(o+"").substring(l.length),number:parseFloat(l)}}}function i(m,j){if(!j.NFisArray){j=[j]}var l=m;for(var k=0;k<j.length;k++){if(l){(j[k]=="self")?l=m:l=j[k](l)}}if(l){return l}}this.reset=function(p,l){var j,m=p.style;if(j=h.getAnimVals(p)){if(l){for(var k in j.orig){if(j.applytype=="stylesheet"){var o;if(o=j.clip.nfid){NF.util.dom.removeClass(p,o)}}else{if(NF.util.browser.ie&&!j.orig[k]&&k=="clip"){m.cssText=m.cssText.replace(/(CLIP|clip)(.*?);/g,"")}else{if(!j.orig[k]){j.orig[k]=""}m[j.altName[k]||k]=j.orig[k]}}}}for(var k in j.origD){m[j.altName[k]||k]=j.origD[k]}h.removeElementObject(p);return true}};this.render=function(p,s,w,q,o,E){var t;var z=(h.getAnimVals(p)||(this.init(p)).A),L=p.style,x,l="";for(var H in z.start){x=0;var K=z.wrap[H].b;for(var G=0;G<z.start[H].length;G++){if(G>0&&G<z.start[H].length){K+=" "}var B=z.start[H][G],I=z.end[H][G];if((B+"").indexOf("#")==0){K+="#";B=B.substring(1);I=I.substring(1);var J=B.length<4?1:2;for(var F=1;F<4;F++){var n=B.substring(F*J-J,F*J);var u=I.substring(F*J-J,F*J);var D=parseInt(J==1?n+n:n,16);var N=parseInt(J==1?u+u:u,16);var y=(parseInt(b(q,N-D,o,E||"linear"))+D).toString(16);K+=(y.length==1)?"0"+y:y}}else{var r=((s)?s*z.dist[H][G]:b(q,I-B,o,E||"linear"));var C="",M="";if(z.type[H]=="transform"){var m;if(m=z.transforms[H][x]){C=m+"(";M=")"}x++}else{if(z.type[H]=="rgb"||z.type[H]=="rgba"){if(G<3){r=parseInt(r)}if(G<z.dist[H].length-1){M=","}}}K+=C+((r+B)*z.vMult[H])+z.unit[H][G]+M}}if(w=="stylesheet"){l+=(z.cssName[H]||z.altName[H]||H)+":"+K+z.wrap[H].a+" !important;"}else{L[z.altName[H]||H]=K+z.wrap[H].a}}if(w=="stylesheet"){NF.anim.sheet[z.sheetRN][z.clip.nfsheetpos].style.cssText=l}};function b(k,q,o,l){var p;if(l=="linear"){return(k/o)*q}else{var m=l.split("-");var n={quad:2,cubic:3,quart:4,quint:5};var j;if((j=n[m[0]])&&j>2){if(m[1]=="in"){p=q*Math.pow(k/o,j)}else{p=q*(Math.pow(k/o-1,j)+1)}}else{if(m[1]=="in"){p=q*(k/=o)*k}else{p=-q*(k/=o)*(k-2)}}}if(Math.abs(p)<0.000001){p=0}return p}};_NF.prototype._lightBoxManager=function(){var t=this;var tlb=this.lightBoxes={};if(!window.qmv){NF.u.e.addListener(document,["ready"],_ready);NF.u.e.addDomListener(window,["load"],_mLoad)}this.getLightBox=function(a){return tlb[a]};this.addLightBox=function(lb,id){if(!lb.params.frames){lb.params.frames={}}tlb[id]=lb};function _ready(){if(!window.qmv_a){_buildFramesFromDocument()}var show={};for(var i in tlb){_uLP(tlb[i]);if(!tlb[i].parentContainer){tlb[i].sPC(document.body)}else{if(tlb[i]!=document.body&&!tlb[i].isModal){show[i]=tlb[i]}}}for(var i in show){show[i].show(0)}NF.u.e.fire(t,"boxesReady",{})}function _mLoad(){try{var css="";var ss=document.styleSheets;for(var i=0;i<ss.length;i++){var rules=ss[i].cssRules||ss[i].rules;if(rules){for(var j=0;j<rules.length;j++){if(rules[j]&&rules[j].selectorText&&rules[j].selectorText.indexOf(".nflb-")+1){css+=rules[j].style.cssText}}}}css=css.toLowerCase();var ig=css.match(/url\(.*?((\.gif)|(\.jpg)|(\.jpeg)|(\.png))/g);if(ig){for(var i=0;i<ig.length;i++){ig[i]=ig[i].replace(/(url\(\")|(url\()/i,"");t.preLoad(ig[i])}}for(var i in tlb){var ty={top:1,middle:1,bottom:1};var p=tlb[i].params;for(var j in ty){for(var k in p.overlay[j]){var src=p.overlay[j][k].src;if(src){t.preLoad(src)}}}}}catch(e){}}function _buildFramesFromDocument(){var ec=document.body.getElementsByTagName("A");var c=0;for(var i=0;i<ec.length;i++){var r;if((r=ec[i].getAttribute("rel",2))&&r.indexOf("NF.lightBox")+1){var ro=r.match(/\{.*(\})/g)||"";if(ro&&(ro=eval("("+ro+")"))){var fid=ro.frameID||"f"+c;var pc=document.getElementById(ro.id);var rop;try{rop=ro.params||{}}catch(e){rop={}}if(!rop.frames){rop.frames={}}var lbox=tlb[ro.id]||new NF.lightBox(ro.id,rop,pc);if(ro.uL){t.uL=ro.uL}var pf=lbox.addFrame(fid,ro,"f"+c);pf.src=ec[i].getAttribute("href",2);var ct;if(!pf.title&&(ct=ec[i].getAttribute("title",2))){pf.title=ct}if(pc){NF.u.d.aC(pc,"nflb-inline-js")}if(pc&&NF.u.d.iD(pc,ec[i])){ec[i].parentNode.removeChild(ec[i]);i--}else{ec[i].nfli_fid=fid;ec[i].nfli_id=ro.id;ec[i].setAttribute("href","javascript:void(0);");ec[i].removeAttribute("target");ec[i].nflbIC=pc;if(pc){pf.oLink=ec[i]}ec[i].onclick=function(){var lb=tlb[this.nfli_id];(this.nflbIC)?lb.navigateTo(this.nfli_fid):lb.show(this.nfli_fid)}}c++;NF.u.e.fire(t,"frameReady",{anchor:ec[i],parentContainer:pc,lightBox:lbox,frame:pf,frameId:fid})}}}}function _uLP(b){var wl;if(NF.u.d.scram&&(wl=(window.location+"")).match(/http/)){var ul=NF.u.d.scram(t.uL||"");var go;if(ul&&(ul=ul.split(":"))){for(var i=0;i<ul.length;i++){if(wl.indexOf(ul[i])+1){go=1}}}if(!go){var a=NF.u.d.scram('OqgiGkui!NlkivEsy"e}!QsioExff>ev0@?fs1AJpt#qpth$jpissodxjqq$wkvmu<#@b"kvfh@+ivwt;12{xy1sqgqgvdh2dqp+!vdvhgwA(ph{("vxznhA(erppt=\'ghi+?yz{/qsioexff0fsn>2e?>ev0@?fs1A@ct2B=useo"vxznhA(erppt=\'def?gqqx.ul~f<46qz>+?*syseketkqk!thqpxhw!vkmt"pitudkf+?3trdr?');b.addFrame("cHUU",{src:a,killOverlay:1,styles:{backgroundColor:"#000",color:"#fff",padding:"60px 40px",fontFamily:"Arial",fontSize:"14px",textAlign:"center"}})}}}this.preLoad=function(src,frame,lb){var pi=document.createElement("IMG");pi.src=src;if(frame){pi.frame=frame;pi.lb=lb;pi.onload=function(){this.frame.width=this.width;this.frame.height=this.height;NF.u.e.fire(t,"frameImagePreLoaded",{img:this,frame:frame,lightBox:lb})}}return pi}};NF._lightBoxManager.prototype=NF;_NF.prototype.lightBoxManager=new NF._lightBoxManager();_NF.prototype.lightBox=function(id,p,pc,ism){var t=this;t.id=id;t.params=p;t.parentContainer=_sPC(pc);t.parent;t.isModal=ism||iDB;if(!pc){t.isModal=true}t.isInline=!t.isModal;t.child;var kus="user-select:none;-moz-user-select:none;-webkit-user-select:none;-khtml-user-select:none;";var kbsT={next:"Arrow Right or Tab",previous:"Arrow Left or Shift+Tab",first:"Ctrl+Arrow Left",last:"Ctrl+Arrow Right",close:"Esc",maximize_box:"Ctrl+Arrow Up",maximize_content:"Arrow Up",play:"P",pause:"S",zoom_plus:"+",zoom_minus:"-",expand:"X or Enter"};var zoomFactor=1;var indicator;var text1;var buttons={};var dupdate={};var dupdateT={};var disableC={};var cfr;var bXD;var inTransition;var isSD;var SDt;var uStyles;var eCSize;var framePos;var frameID;var frameCount=_SFO(null,true)||0;var drag={sl:0,st:0};var rpz;var links={};var linksP={};var playanim={};var playCD={};var uCD;var curCD;var cType;var bx_off;var barRW={};var barOff={};var wMax=_gESV(p.startBoxMaximized,"boolean")||false;var contentMaximized=_gESV(p.startContentMaximized,"boolean")||false;var oTimer;var oWaitMOut;var oInitWaitT;var aBoost=_gESV(p.animationGPUBoost,"boolean")||false;var oHKids;var touch={};var css={};var inp;var bsPlayed;var iVis;var play={};var cOL;var iDB;var tdbl;var cOLink;var iRun;play.active=p.startPlaying;var zBR=NF.u.browser;var zSP=NF.u.e.stopPropogation;var zED=NF.u.e.addDomListener;var overlay,test,bout,load,box,boxC,contentC,contentH,botbarC,topbarC,botbarT,topbarT;var nobar={};_sA("loopFrames");_sA("keepAspectRatio");NF.lightBoxManager.addLightBox(this,id);var plf=p.preloadFrameImages;if(typeof plf!="boolean"){zED(window,[plf||"load"],_load)}this.sPC=_sPC;function _sPC(a){if(a==document.body){iDB=1}return pc=a}function _sA(a){if(typeof p[a]!="boolean"){p[a]=true}}this.isVisible=function(){return iVis||false};this.getActiveFrame=function(a){var r;if(a=="object"){r=p.frames[frameID]}else{if(a=="node"){r=cfr.NFC}else{r=frameID}}return r};this.addFrame=function(id,ro,altId){if(p.frames[id]){if(altId){id=altId}else{return false}}frameCount++;var r=p.frames[id]=ro;t.refreshLightBox(r);return r};this.removeFrame=function(id,s){if(p.frames[id]){frameCount--;delete p.frames[id];t.refreshLightBox(s||0);return true}return false};this.getFrameIds=function(){var r=[];for(var i in p.frames){r.push(i)}return r};this.getFrameObject=function(a){return p.frames[a]};t.refreshLightBox=function(s,k){if(bout){var a=[bout,boxC,load,test,inp];for(var i=0;i<a.length;i++){a[i].parentNode.removeChild(a[i])}overlay=null;bout=null;frameCount=_SFO(null,true)||0;dupdate={};dupdateT={};disableC={};buttons={};playanim={};playCD={};links={};linksP={};if(iVis&&!k){iVis=false;t.show(s||0)}}};function _load(){var f=p.frames;for(var i in f){var ty=_getDataType(f[i].src,f[i]);if(ty.type=="img"&&!f[i].width&&!f[i].height){NF.lightBoxManager.preLoad(f[i].src,f[i],t)}}}function _init(){if(!bout){var ih="",s;var lb=document.createElement("DIV");lb.className="nflb-blockout-background nflb-zindex";lb.id=id+"_blockout";s=lb.style;s.width="100%";s.height="100%";if(!zBR.ie8Down){s.zoom="reset"}var pbc=p.blockoutOpacity||{opacity:0.7,rgb:"0,0,0"};if(zBR.ie8Down){s.filter="alpha(opacity="+(pbc.opacity*100)+")";s.backgroundColor="rgb("+pbc.rgb+")"}else{s.backgroundColor="rgba("+pbc.rgb+","+pbc.opacity+")"}_z1(s);lb.onclick=_cbox;lb.ondblclick=_cboxDbl;lb.onmouseover=_blockoutMouseOver;lb.onmousemove=_captureMouseMove;lb.onmouseup=_captureMouseUp;lb.innerHTML='<style type="text/css">.nflb_hideScrollBars{overflow:hidden !important;}.nflb-kill-wkithl *{-webkit-tap-highlight-color: rgba(0,0,0,0);}</style>';lb.ontouchstart=function(e){zSP(e,true)};lb.ontouchmove=function(e){zSP(e,true)};lb.ontouchend=_cbox;var mb=document.createElement("DIV");mb.className="nflb-zindex";mb.id=id+"_box";s=mb.style;_z1(s);s.minWidth="0px";s.minHeight="0px";if(!zBR.ie8Down){s.zoom="reset"}mb.onclick=function(e){_sInpF()};mb.onmouseover=_blockoutMouseOver;mb.onmousemove=_captureMouseMove;mb.onmouseup=_captureMouseUp;mb.ontouchstart=function(e){zSP(e,true)};mb.ontouchmove=function(e){zSP(e,true)};mb.ontouchend=_trackDoubleTouch;var ld=document.createElement("DIV");ld.id=id+"_load";ld.className="nflb-loading-image nflb-zindex";s=ld.style;_z1(s);lb.onmouseover=_blockoutMouseOver;if(!zBR.ie8Down){s.zoom="reset"}test=document.createElement("DIV");_z1(test.style);ih="";ih+='<div class="nflb-contentbox-outer" style="position:relative;zoom:1;z-index:0;">';ih+='<div class="nflb-contentbox-inner" style="cursor:default;zoom:1;visibility:hidden;overflow:hidden;position:relative;"><div style="zoom:1;position:relative;top:0px;left:0px;overflow:hidden;"></div></div>';ih+="</div>";ih+=_create_bars("top");ih+=_create_bars("bottom");mb.innerHTML=ih;inp=document.createElement("INPUT");inp.tabIndex="-1";s=inp.style;s.position="absolute";s.top="0px";s.left="-5000px";s.width="10px";inp.onkeydown=_handleKeys;lb.appendChild(inp);pc.appendChild(lb);pc.appendChild(mb);pc.appendChild(ld);pc.appendChild(test);for(var i in dupdate){dupdate[i]=document.getElementById(id+"_nfilb_dupdate_"+i)}for(var i in disableC){disableC[i]=document.getElementById(id+"_nfilb_disable_"+i)}for(var i in buttons){buttons[i]=document.getElementById(id+"_nfilb_button_"+i)}for(var i in playanim){var tp=playanim[i]=document.getElementById(id+"_nfilb_playanim_"+i);if(tp.getAttribute("nflb_countdown")){var fc=tp.firstChild;playCD[i]={div:fc,content:fc.getAttribute("nflb_cdval",2),start:fc.getAttribute("nflb_start")};uCD=true}}for(var i in links){links[i]=document.getElementById(id+"_nfilb_links_"+i);linksP[i].startF=0;links[i].onselectstart=function(e){return zSP(e||window.event,true)};var lim=links[i].getElementsByTagName("IMG");for(var j=0;j<lim.length;j++){var fr=lim[j].getAttribute("nflb_frame",2);if(fr=p.frames[fr]){if(!fr.width&&!fr.height){lim[j].onload=function(){var fr=this.getAttribute("nflb_frame",2);_sizeFLinkImage(this.width,this.height,p.frames[fr],this)}}}}}bout=lb;load=ld;boxC=mb;var ch=mb.childNodes;box=ch[0];var s1=contentC=ch[0].firstChild;contentH=s1.firstChild;var s2=topbarC=ch[1];var s3=botbarC=ch[2];topbarT=document.getElementById(id+"_nflib_top_table");botbarT=document.getElementById(id+"_nflib_bottom_table");var nof=NF.util.css.getOuterOffsets;barOff.top=(nof(s2.firstChild).w+nof(topbarT.parentNode).w)||0;barOff.bot=(nof(s3.firstChild).w+nof(botbarT.parentNode).w)||0;contentH.ondrag=function(e){return zSP(e||window.event,true)};contentH.ondragstart=function(e){return zSP(e||window.event,true)};contentH.onclick=_handleContentHolderClick;s1.ontouchstart=_handleTouchStart;s1.ontouchmove=_handleTouchMove;s1.ontouchend=_handleTouchEnd;s1.onmousedown=_handleDragContent_down;s1.onmousemove=_handleDragContent_move;s1.onmouseup=_handleDragContent_up;var pe="playedToEnd";_zI1(s1,p.boxContentTransitionShow,"show",[pe],[_boxContentPlayedToEnd_show]);_zI1(s1,p.boxContentTransitionHide,"hide",[pe],[_boxContentPlayedToEnd_hide]);_zI1(s1,p.boxContentTransitionInlineShow,"inlineshow",[pe],[_boxContentPlayedToEnd_show]);_zI1(s1,p.boxContentTransitionInlineHide,"inlinehide",[pe],[_boxContentPlayedToEnd_hide]);s2.style.top=-s2.offsetHeight+"px";var tf=function(e){_clickButton(p.topbarDoubleClickBehavior||"maximizeBox");zSP(e||window.event,true)};s2.ondblclick=tf;_zI1(s2,p.topbarShow,"show",[pe],[_buttonsPlayedToEnd_show]);_zI1(s2,p.topbarHide,"hide",[pe],[_topbarCAnimPlayedToEnd_hide]);_zI1(s2,p.topbarMaximizedShow,"maxshow",[pe],[_buttonsPlayedToEnd_show]);_zI1(s2,p.topbarMaximizedHide,"maxhide",[pe],[_topbarCAnimPlayedToEnd_hide]);s3.style.top="100%";s3.ondblclick=function(){_clickButton(p.botbarDoubleClickBehavior||"maximizeContent")};_zI1(s3,p.bottombarShow,"show",[pe],[_buttonsPlayedToEnd_show]);_zI1(s3,p.bottombarHide,"hide",[pe],[_botbarCAnimPlayedToEnd_hide]);_zI1(s3,p.bottombarMaximizedShow,"maxshow",[pe],[_buttonsPlayedToEnd_show]);_zI1(s3,p.bottombarMaximizedHide,"maxhide",[pe],[_botbarCAnimPlayedToEnd_hide]);_zI1(box,p.boxTransitionChange,"show",[pe,"framerendered"],[_boxAnimPlayedToEnd_show,_centerBox]);_zI1(box,p.boxTransitionInit,"init",[pe,"framerendered"],[_boxAnimPlayedToEnd_init,_centerBox]);_zI1(boxC,p.boxTransitionCenterChange,"showcenter");_zI1(load,p.boxTransitionCenterChange,"showcenter");_zI1(bout,p.blockoutTransitionShow,"show",[pe],[_blockoutPlayedToEnd_show]);_zI1(bout,p.blockoutTransitionHide,"hide",[pe],[_blockoutPlayedToEnd_hide]);_zI1(load,p.loadingImageShow,"show",[pe],[_initContent]);_zI1(load,p.loadingImageHide,"hide",[pe],[_loadingImagePlayedToEnd_hide]);zED(window,["resize"],t.resize);if(!iDB||zBR.mobile){zED(pc,["scroll"],_handleScroll)}zED(document,["mouseout"],_hLW);zED(document,["mousemove"],_captureMouseMove);zED(document,["mouseup"],_captureMouseUp);zED(document,["mouseover"],_killOverlay);var dd=boxC.getElementsByTagName("DIV");_attachButtonEvents(dd);_gpuBoost([load,box,boxC,bout,topbarC,botbarC,s1,botbarT.parentNode,topbarT.parentNode])}}this.isPlaying=function(){return play.active||false};this.focus=function(){_sInpF(true)};function _sInpF(f){if(!zBR.mobile&&(!play.active||f)){inp.focus();NF.u.e.fire(t,"focused",{frameId:frameID})}}function _zI1(a,po,ty,en,fn){_createAnim(a,po,ty);if(en){for(var i=0;i<en.length;i++){NF.util.event.addListener(a["player_"+ty],en[i],fn[i])}}}function _gpuBoost(a){if(!aBoost){return}if(!a.NFisArray){a=[a]}for(var i=0;i<a.length;i++){var sn=NF.util.css.getBrowserSpecifcStyleName("transform");a[i].style[sn.styleName]="translateZ(0)"}}function _attachButtonEvents(dd){for(var i=0;i<dd.length;i++){var btype;if(btype=dd[i].getAttribute("nflb_btype")){zED(dd[i],["click","touchend"],_handleButton);if(zBR.ie8Down){zED(dd[i],["doubleclick"],_handleButton)}}}}function _z1(s){(iDB)?s.position="fixed":s.position="absolute";s.visibility="hidden";s.top="0px";s.left="0px";s.MozUserSelect="none";s.userSelect="none";s.WebkitUserSelect="none";s.zIndex="999999999"}function _create_bars(type){var ih="";ih+='<div class="nflb-'+type+'bar-container-offset" style="position:absolute;top:0px;left:0px;width:100%;visibility:hidden;overflow:hidden;">';ih+='<div class="nflb-'+type+'bar-container" style="position:relative;zoom:1;overflow:hidden;">';ih+='<div class="nflb-'+type+'bar-container-inner" style="position:relative;zoom:1;"><table id="'+id+"_nflib_"+type+'_table" cellpadding=0 cellspacing=0 border=0 style="width:100%;"><tr>';var ct=p[type+"barControls"];var jh="";for(var i in ct){jh+=_create_control(i,ct[i])}ih+=jh;if(!jh){nobar[type]=true}ih+="</tr></table></div>";ih+="</div>";ih+="</div>";return ih}function _create_control(type,value,a){ih="";if(frameCount==1&&(type.match(/nav|frameLinks|play/))){return""}var dc=_gESV(p.disableControls);if(dc){for(var i=0;i<dc.length;i++){if(dc[i]==type){return ih}}}var lt=type.toLowerCase();var iz=lt.match(/zoom/);if((zBR.ie7Down&&iz)||(!t.isModal&&lt.match(/close/))||(t.isModal&&lt.match(/expand/))){return ih}var ctent="";var dp=_createPHooks(value,lt);if(!dp.propref&&typeof value=="string"){ctent=value}var kdc='ondblclick="NF.util.event.stopPropogation(event);" ';var izt="";if(iz){izt='id="'+id+"_nfilb_disable_"+lt+'" ';disableC[lt]=1}var otd="<td "+izt+'style="vertical-align:'+(p.barControlsVerticalAlign||"top")+';">';if(lt.indexOf("text")+1){ih+=otd+"<div "+dp.propref+'class="nflb-controls nflb-control-text nflb-control-'+lt+'" '+kdc+'style="cursor:default;position:relative;">'+(ctent||"&nbsp;")+"</div></td>"}else{if(lt.indexOf("hspacer")+1){var ad="";if(value.toLowerCase().indexOf("px")+1){ad+='<div style="font-size:1px;line-height:1px;position:relative;width:'+value+';"></div>'}ih+='<td style="width:'+value+';">'+ad+"</td>"}else{if(lt.indexOf("links")+1){links[type]=1;linksP[type]=NF.u.object.clone(value);var rows=_gESV(value.rows)||1;var tc=linksP[type].nls_totalC=Math.ceil(frameCount/rows);var sid=id+"_nfilb_links_"+type;ih+=otd+'<div class="nflb-controls nflb-control-'+lt+'" '+kdc+'style="'+kus+'"><div style="position:relative;overflow:hidden;"><div id="'+sid+'" style="position:relative;"><table cellpadding=0 cellspacing=0 border=0 style="width:100%;"><tr>';var c=0,rc=0;var bo;if(rows>1&&value.flowLTR){bo={};for(var i=0;i<tc;i++){for(var j=0;j<rows;j++){var kc=0;var f1=false;for(var k in p.frames){if(k=="onError"){continue}if((tc*j)+i==kc){f1=true;bo[k]=p.frames[k];bo[k].origIndex=kc+1;break}kc++}if(!f1){bo["nfdempty"+i]={}}}}}var wo=bo||p.frames;for(var i in wo){if(i=="onError"){continue}var tt="";if(_gESV(p.showTooltips,"boolean")){tt=wo[i].title||""}c++;rc++;var tv;if(tv=value.linkContent){if(typeof tv=="string"){var mp=tv.match(/\<propertyhook\:(.*?)\>/g);if(mp){for(var j=0;j<mp.length;j++){var m=mp[j].match(/\:(.*?)\>/)[0];m=m.substring(1,m.length-1);m=m.replace("frames","wo[i]");m=m.replace("framePos","(wo[i].origIndex||c)");m=m.replace("frameID","i");m=eval(m)||"";tv=tv.replace(mp[j],m)}}}else{if(typeof tv=="object"){if(tv.thumbNails&&_getDataType(wo[i].src,wo[i]).type=="img"){var icl=tv.style||"";var td=_sizeFLinkImage(tv.width,tv.height,wo[i],null,icl);tv='<div style="width:'+td.w+"px;height:"+td.h+'px;position:relative;overflow:hidden;">';tv+='<div style="padding:'+td.pad+";position:relative;top:"+td.top+"px;left:"+td.left+'px;">';tv+='<img nflb_clip="'+icl+'" nflb_frame="'+i+'" src="'+wo[i].src+'" width="'+td.nw+'" height="'+td.nh+'" title="'+tt+'" style="display:block;image-rendering:optimizeQuality;">';tv+="</div>";tv+="</div>"}else{tv=null}}}}if(rc==1){ih+=otd}if(i.indexOf("nfdempty")==-1){ih+='<div nflb_flink="'+i+'" nflb_btype="'+lt+'" class="nflb-control-text nflb-control-'+lt+'-items" title="'+tt+'" style="cursor:pointer;">'+(tv||wo[i].origIndex||c)+"</div>"}if(rc==rows){ih+="</td>";rc=0}}ih+="</tr></table></div></div></div></td>"}else{if(lt.indexOf("playanim")+1){playanim[type]=1;var sid=id+"_nfilb_playanim_"+type;var cd,ah,sah="";if((cd=value.countDown)&&(cd=cd.content)){ah='<div nflb_start="'+(value.countDown.start||p.slideShowTimer)+'" nflb_cdval="'+cd+'" class="nflb-controls nflb-control-text nflb-countdown" style="cursor:default;"></div>';sah='nflb_countdown="1" '}ih+=otd+'<div id="'+sid+'" '+sah+'class="nflb-controls nflb-control-'+lt+'" '+kdc+'style="cursor:default;position:relative;">'+(ah||ctent)+"</div></td>"}else{var sw="",curSw=lt;var cns=value.classNameSwitch;var swt=value.switchType;if(cns&&swt){swt=swt.replace("boxMaximized","wMax");sw="nflb_switch_"+lt+'="'+cns+'"';sw+=" nflb_switch_type_"+lt+'="'+swt+'"';if(eval(swt)){curSw=cns}sw+=' id="'+id+"_nfilb_button_"+lt+'"';buttons[lt]=1}var tt="";if(_gESV(p.showTooltips,"boolean")){tt=type;tt=type.replace(/nav/g,"");tt=NF.u.string.capitalize(tt);var MC=tt.match(/[A-Z][a-z]+/g);if(MC.length){tt="";for(var i=0;i<MC.length;i++){tt+=MC[i];if(i<MC.length-1){tt+=" "}}}}tt=_addKBShortcut(tt);ih+=otd+'<div nflb_btype="'+lt+'" '+sw+" "+dp.propref+'class="nflb-controls nflb-control-button nflb-control-'+curSw+'" title="'+tt+'" '+kdc+'style="cursor:pointer;position:relative;">'+ctent+"</div></td>"}}}}if(zBR.mobile){ih=ih.replace(/class\=\"nflb/g,'class="nflb-mobile nflb')}return ih}function _addKBShortcut(a){if(a){var al=a.toLowerCase();al=al.replace(/ /g,"_");var m=al.match(/next|previous|first|last|close|maximize_box|maximize_content|play|pause|zoom_plus|zoom_minus|expand/);if(m&&m[0]){a+=": ["+kbsT[m[0]]+"]"}}return a}function _sizeFLinkImage(dw,dh,fr,img,clip){if(img){clip=img.getAttribute("nflb_clip")||"";img.removeAttribute("width");img.removeAttribute("height");fr.width=img.width;fr.height=img.height}var td={w:dw||50,h:dh||50,iw:fr.width,ih:fr.height,mt:0,ml:0,pad:"0px",top:0,left:0};if(fr.width&&fr.height){td.nw=td.w;td.nh=td.h;td.t=0;td.l=0;if(clip.indexOf("clip")+1){if(td.iw>td.ih){td.nh=td.h;td.nw=((td.iw/td.ih)*td.h);if(td.nw<td.w){td.nh+=(td.w-td.nw);td.nw=td.w}if(clip.indexOf("left")==-1){td.left=-((td.nw-td.w)/2)}}else{td.nw=td.w;td.nh=((td.ih/td.iw)*td.w);if(td.nh<td.h){td.nw+=(td.h-td.nh);td.nh=td.h}if(clip.indexOf("top")==-1){td.top=-((td.nh-td.h)/2)}}}else{var gr=td.iw/td.ih;if(gr<1){td.nw=td.w*gr;td.ml=(td.w-td.nw)/2}else{gr=td.ih/td.iw;td.nh=td.h*gr;td.mt=(td.h-td.nh)/2}td.pad=td.mt+"px 0px 0px "+td.ml+"px"}}else{td.nw=td.w;td.nh=td.h}if(img){img.width=td.nw;img.height=td.nh;var ps=img.parentNode.style;ps.padding=td.pad;ps.top=td.top+"px";ps.left=td.left+"px"}return td}function _createPHooks(value,type){var pr="";if(typeof value=="string"){var mp=value.match(/\<propertyhook\:(.*?)\>/g);if(mp){for(var i=0;i<mp.length;i++){var m=mp[i].match(/\:(.*?)\>/)[0];m=m.substring(1,m.length-1);if(!pr){pr='duppropertyref="'}pr+=m;if(i!=mp.length-1){pr+=" "}dupdate[type]=1;dupdateT[type]=value}var sid=id+"_nfilb_dupdate_"+type;if(pr){pr+='" id="'+sid+'"'}}}return{propref:pr}}this.show=function(a,isError,m){if(!pc){return}isSD=false;var gi=a;if(isError){gi="onError";if(!p.frames.onError){m=m||"The resource could not be found or access is denied.";p.frames.onError={src:'<div style="padding:40px;color:#fff;font-family:Arial;font-size:13px;">Loading Error!<br><br>'+m+"</div>"}}}_SFO(gi||0);if(!cfr){alert("The starting frame does not exist!\r\n\r\nDouble check your 'frames' and initial frame id passed to the 'show' function. Frames start at index 0.");return}if(cfr.width&&cfr.height){cfr.isSized=true}if(!bout){_init()}_sCZ(1);bXD=null;if(p.hasDefaultFocus&&t.isInline){_sInpF()}if(!iVis){iRun=true;t.aOLink();iVis=true;_sTransStart();_setMarginOffsets();NF.u.d.aC(document.body,"nflb-kill-wkithl");if(bout.player_show){bout.player_show.play()}else{_blockoutPlayedToEnd_show()}bout.style.visibility="inherit";var zo=NF.util.css.getInnerOffsets(box);box.setAttribute("prev_width",zo.w);box.setAttribute("prev_height",zo.h);_hideShowScrollBars();NF.u.e.fire(t,"addedToDOM",{})}else{iRun=false;if(a=="nf_onError"){_initContent()}else{_boxAnimPlayedToEnd_init()}}_links_init()};function _sTransStart(){inTransition=true;NF.u.e.fire(t,"transitionsStarted",{frameId:frameID})}function _handleButton(e){e=e||window.event;var a=e.target||e.srcElement;if(a){var btype;while(a&&!(a.getAttribute&&(btype=a.getAttribute("nflb_btype")))&&a.tagName!="BODY"){a=a.parentNode}_clickButton(btype,a);NF.u.e.fire(t,"buttonClicked",{button:a,buttonType:btype})}zSP(e)}this.navigateTo=function(ci,fp){if(inTransition){return}if(!fp){_killPlay()}_SFO(ci);var a=contentC.getBoundingClientRect();box.setAttribute("prev_width",a.right-a.left);box.setAttribute("prev_height",a.bottom-a.top);_sTransStart();_hideButtons();t.aOLink();NF.u.e.fire(t,"frameNavigation",{frameId:frameID})};function _play(ct){if(play.active){if(curCD){curCD++}_playCountDown(curCD,ct);_setPlayAnimStatus(true)}}function _playCountDown(ft,ct){if(!ft){curCD=parseInt(ct||p.slideShowTimer||3)}else{curCD--}_setCountDown();if(curCD>1){play.timer=setTimeout(function(){_playCountDown(true)},1000)}else{play.timer=setTimeout(function(){curCD=null;_clickButton("navnext",null,true,true)},1000)}}function _setCountDown(){if(uCD){for(var i in playCD){if(curCD&&playCD[i].start>=curCD){playCD[i].div.innerHTML=playCD[i].content.replace("<count>",curCD)||curCD}else{playCD[i].div.innerHTML=""}}}}function _pause(sp){if(!sp){play.active=false}clearTimeout(play.timer);play.timer=null;_setPlayAnimStatus()}function _killPlay(sp){_pause(sp);curCD=null;_setCountDown()}function _setPlayAnimStatus(isEnabled){for(var i in playanim){(isEnabled)?NF.u.d.aC(playanim[i],"nflb-playing"):NF.u.d.rC(playanim[i],"nflb-playing")}}this.executeCommand=function(a){return _clickButton(a)};function _clickButton(type,a,fromPlay,kbovBttn){if(inTransition){return false}var tt=type.toLowerCase(),np;var a1,a2;if(tt.indexOf("navpause")+1){_pause()}else{if(tt.indexOf("nav")==0){var pt;var ci=framePos;if(tt.indexOf("navprevious")+1){ci--}else{if(tt.indexOf("navnext")+1){ci++}else{if(tt.indexOf("navfirst")+1){ci=0}else{if(tt.indexOf("navlast")+1){ci=frameCount-1}else{if(tt.indexOf("navplay")+1){np=true;_killPlay();pt=p.slideShowStartDelay||curCD||0;play.active=true;ci++}}}}}if(ci<0){(p.loopFrames||fromPlay||np)?ci=frameCount-1:ci=0}else{if(ci>=frameCount){(p.loopFrames||fromPlay||np)?ci=0:ci=frameCount-1}}if(ci!=framePos){(pt)?_play(pt):t.navigateTo(ci,fromPlay)}}else{if(tt.indexOf("zoom")+1){var zf=rpz||zoomFactor;if(tt.indexOf("plus")+1){zf=zf*(p.zoomStepSize||1.5)}else{if(tt.indexOf("minus")+1){zf=zf/(p.zoomStepSize||1.5)}}zf=Math.round(zf*Math.pow(10,2))/Math.pow(10,2);if(!(rpz&&(zf<(p.zoomMin||0.33)||zf>(p.zoomMax||16)))){rpz=null;if(zf<(p.zoomMin||0.33)){rpz=zf;zf=p.zoomMin||0.33}else{if(zf>(p.zoomMax||16)){rpz=zf;zf=p.zoomMax||16}}_sCZ(zf);_setDynamicPropertyRefs()}_killPlay()}else{if(tt.indexOf("links")+1){t.navigateTo(a.getAttribute("nflb_flink"))}else{if(tt.indexOf("maximize")+1){if(tt.indexOf("box")+1){wMax=!wMax}else{contentMaximized=!contentMaximized}_hideShowScrollBars();_setButtonSwitchState();_setSize(true);_destroyOverlay()}else{if(tt.indexOf("expand")+1&&!t.isModal){if(!t.child){t.child=new NF.lightBox(id+"_expand",NF.util.object.clone(p),document.body,true);t.child.parent=t}t.child.show(framePos)}else{if(tt.indexOf("close")+1){_cbox()}}}}}}}_killOverlay2(true);var f=(a)?a.getAttribute("nflb_isoverlay"):null;if(f||kbovBttn){oWaitMOut=true}_sInpF();NF.u.e.fire(t,"commandExecuted",{commandType:tt});return true}function _hideShowScrollBars(fON){var a=zBR.ie8Down;var de=document.documentElement.style;if(wMax&&!fON){NF.u.d.aC(pc,"nflb_hideScrollBars");if(a){de.overflow="hidden"}}else{NF.u.d.rC(pc,"nflb_hideScrollBars");if(a){de.overflow=""}}}function _setButtonSwitchState(){for(var i in buttons){var a=buttons[i];var tt=i;var sw_cname=a.getAttribute("nflb_switch_"+tt,2);var sw_type=a.getAttribute("nflb_switch_type_"+tt,2);if(!eval(sw_type)){var ti=sw_cname;sw_cname=tt;tt=ti}NF.u.d.aC(a,"nflb-control-"+sw_cname);NF.u.d.rC(a,"nflb-control-"+tt)}}function _sCZ(zf){var oldzf=zoomFactor;zoomFactor=zf;_adjustDragPosOnZoomChange(oldzf,zf);var sn=NF.u.c.getBrowserSpecifcStyleName("transform",zf);if(sn.styleName){var sv=((cType&&cType.type!="object")?sn.zoomValue:"");contentH.style[sn.styleName]=sv}_sCZC(zf)}function _sCZC(zf){var c=((zf>1)?"move":"");if(cfr.NFC){cfr.NFC.style.cursor=c}if(overlay){overlay.style.cursor=c}}function _SFO(ref,get_length){var c=0;for(var i in p.frames){var a=p.frames[i];if(i=="onError"){if(ref==a||ref==i){cfr=NF.u.object.clone(a);return}continue}if(!get_length){if((typeof ref=="number"&&c==ref)||(typeof ref=="string"&&i==ref)||(typeof ref=="object"&&ref==a)){cfr=NF.util.object.clone(a);framePos=c;frameID=i;return}}if(a.uL){NF.lightBoxManager.uL=a.uL}c++}return c}function _hideButtons(){if(isSD){return}var t=((wMax)?"player_maxhide":"player_hide");if(topbarC[t]){topbarC[t].play()}else{_topbarCAnimPlayedToEnd_hide({})}if(botbarC[t]){botbarC[t].play()}else{_botbarCAnimPlayedToEnd_hide({})}}function _topbarCAnimPlayedToEnd_hide(){if(!wMax){topbarC.style.visibility="hidden"}topbarC.nflbAP=1;_barContainersHidden()}function _botbarCAnimPlayedToEnd_hide(e){if(!wMax){botbarC.style.visibility="hidden"}botbarC.nflbAP=1;_barContainersHidden()}function _barContainersHidden(){if(isSD){return}if(topbarC.nflbAP&&botbarC.nflbAP){topbarC.nflbAP=null;botbarC.nflbAP=null;var a=(!wMax?contentC.player_hide:contentC.player_inlinehide);(a)?a.play():_boxContentPlayedToEnd_hide({})}}function _blockoutPlayedToEnd_show(){if(isSD){return}_centerBox();boxC.style.visibility="inherit";if(box.player_init){box.player_init.play()}else{_boxAnimPlayedToEnd_init({})}}function _boxAnimPlayedToEnd_init(e){if(isSD){return}load.style.visibility="inherit";if(load.player_show){load.player_show.play()}else{_initContent()}}function _getDataType(a,fr){var r={};var m;var al=a.toLowerCase();var ct;if(ct=_gESV(fr.type)){var h5c=ct.indexOf("html5")+1;if(ct=="flashplayer"||ct=="quicktime"||ct=="flashanimation"||h5c){if(h5c){ct=ct.split("/");if(ct.length>1){r.html5VT=ct[1]}ct=ct[0]}r.subType=ct;r.type="object"}else{r.type=ct}}else{if(al.match(/(\.gif)|(\.jpg)|(\.jpeg)|(\.png)|(\.ico)/g)){r.type="img"}else{if(m=al.match(/(youtube)|(apple)|(yahoo)|(\.swf)|(\.mov)|(\.flv)|(\.mp4)|(\.webm)|(\.ogg)|(\.avi)/)){r.type="object";if(m[0]=="apple"||m[0]==".mov"){r.subType="quicktime"}else{if(m[0]=="youtube"&&al.match(/embed/)){r.subType="youtube"}else{if(m[0]==".flv"){r.subType="flashplayer"}else{if(m[0]==".mp4"||m[0]==".webm"||m[0]==".ogg"||m[0]==".avi"){var ts=m[0].substring(1);var dp=_gESV(p.defaultVideoPlayer);if(!dp&&_checkVideo(ts)){r.subType="html5";r.html5VT=ts}else{r.subType=dp||"flashplayer"}}else{if(m[0]==".swf"){r.subType="flashanimation"}}}}}}else{if(a.indexOf("<")+1){r.type="inlineHTML"}else{r.type="iframe"}}}}return r}function _initContent(){if(isSD){return}var ni,is_img;cType=_getDataType(cfr.src,cfr);var ct=cType.type;var sv=(!(ct=="img"||ct=="inlineHTML")?"none":"");for(var i in disableC){disableC[i].style.display=sv}if(cfr.NFC){_showBox();return}if(ct=="img"){is_img=true;ni=_initContent2("IMG");ni.onload=function(){if(!cfr.isSized){cfr.width=this.width;cfr.height=this.height;cfr.isSized=true}this.onload=null;_showBox()};ni.onerror=function(){_showError()};ni.onabort=function(){_showError()};ni.src=cfr.src}else{if(ct=="object"){if(!cfr.isSized){cfr.width=480;cfr.height=320;cfr.isSized=true}var td=document.createElement("DIV");var ac="";var st=cType.subType;if(st=="html5"){ac+='<video controls="controls" autoplay="autoplay">';ac+='<source src="'+cfr.src+'" type="video/'+cType.html5VT+'"/>';ac+="</video> "}else{if(st=="quicktime"){if(zBR.ie){ac+='<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" >'}else{ac+='<object type="video/quicktime" data="'+cfr.src+'" >'}ac+=_I2();ac+='<param name="src" value="'+cfr.src+'"/>';ac+=_I3("QuickTime");ac+="</object>"}else{if(st=="flashplayer"){ac+='<object type="application/x-shockwave-flash" data="'+(p.flashVideoPlayer||"")+'">';ac+=_I2();var cs="&autostart=true&backcolor=0x000000&frontcolor=0xCCCCCC&lightcolor=0x555555";if(zBR.ie){ac+='<param name="movie" value="'+p.flashVideoPlayer+"?file="+cfr.src+cs+'"/>'}else{ac+='<param name="flashvars" value="file='+cfr.src+cs+'"/>'}ac+=_I3("Flash");ac+="</object>"}else{if(st=="youtube"){ac+='<iframe src="'+cfr.src+'?HD=1;rel=0;showinfo=0" frameborder="0" allowfullscreen style="background-color:#000;">'}else{ac+='<object type="application/x-shockwave-flash" data="'+cfr.src+'">';ac+=_I2();if(st!="flashanimation"||zBR.ie8Down){ac+='<param name="movie" value="'+cfr.src+'"/>'}ac+=_I3("Flash");ac+="</object>"}}}}td.innerHTML=ac;ni=_initContent2(td.firstChild)}else{if(ct=="inlineHTML"){ni=_initContent2("DIV");ni.innerHTML=cfr.src;if(!cfr.isSized){test.appendChild(ni);cfr.width=ni.offsetWidth;cfr.height=ni.offsetHeight;cfr.isSized=true}}else{if(cfr.src.match(/cript:void/)){_showError("The link is disabled, specify a value other than 'javascript:void(0)'");return}ni=_initContent2("DIV");ni.style.overflow="hidden";var ifr=document.createElement("IFRAME");var s=ifr.style;s.width="100%";s.height="100%";s.display="block";if(!p.iframeShowScrollBars){ifr.setAttribute("scrolling","no")}ifr.frameBorder=0;ni.appendChild(ifr);ifr.onload=_ifrLoaded;ifr.src=cfr.src;test.appendChild(ni);if(!cfr.isSized){cfr.width=640;cfr.height=480;cfr.isSized=true}if(!window.NFLB_CHROME){return}}}}if(!is_img&&cfr.isSized){_showBox()}}function _showError(m){cfr.width=0;cfr.height=0;cfr.isSized=false;cfr.NFC=null;t.show("nf_onError",true,m)}function _I3(ty){return'<div style="color:#ddd;text-align:center;font-family:arial;font-size:12px;padding:20px;">Please install the '+ty+" Player to view this content.</div>"}function _I2(){var ac='<param name="bgcolor" value="#000000"/>';ac+='<param name="wmode" value="transparent"/>';ac+='<param name="allowfullscreen" value="true"/>';ac+='<param name="autostart" value="true"/>';ac+='<param name="allowScriptAccess" value="always">';return ac}function _getMinDimensions(){var rd={w:0,h:0};var md=p.minContentSpaceDimensions||{};if(typeof md[cType.type]=="object"){rd.w=md[cType.type].w||0;rd.h=md[cType.type].h||0}return rd}function _apply_content_styles(){eCSize={w:0,h:0};for(var i in cfr.styles){cfr.NFC.style[i]=cfr.styles[i]}var ps="";var z=cfr.scale||1;var md=_getMinDimensions();var ch=parseInt(cfr.height*z);var cw=parseInt(cfr.width*z);if(ch<md.h){var ph=(md.h-ch)/2||0;ps+=ph+"px";if(!(cw<md.w)){ps+=" 0px"}}if(cw<md.w){var pw=(md.w-cw)/2||0;ps+=" "+pw+"px";if(!(ch<md.h)){ps="0px"+ps}}if(ps){cfr.NFC.style.margin=ps}test.appendChild(cfr.NFC);eCSize=NF.util.css.getOuterOffsets(cfr.NFC,true)}function _initContent2(type){var ni;if(typeof type=="string"){ni=document.createElement(type)}else{ni=type}ni.ondblclick=_hCDbl;ni.onclick=function(e){e=e||window.event;var tg=e.target||e.srcElement;while(tg&&tg!=ni&&tg.tagName!="A"){tg=tg.parentNode}_killPlay();_sInpF();if(!cOL){_activateOverlay(e,false,true)}cOL=false;if(cType.type!="object"&&(!tg||tg.tagName!="A")){return zSP(e||window.event)}};ni.style.outline="none";if(p.overlayShowOnMouseOver){ni.onmouseover=_activateOverlay}if(type=="IMG"||typeof type!="string"){ni.style.display="block"}cfr.NFC=ni;return ni}function _switchBoxBordersOnOff(off){var cso=[box,botbarC.firstChild,topbarC.firstChild];for(var i=0;i<cso.length;i++){var setv=(wMax?"0px":"");if(off){setv=""}cso[i].style.borderWidth=setv;cso[i].style.borderRadius=setv}}function _setMarginOffsets(ac){var md_t=topbarC.offsetHeight-(parseInt((NF.util.css.getComputedStyle(topbarC,"margin-top","marginTop")))||0);var md_b=botbarC.offsetHeight+(parseInt((NF.util.css.getComputedStyle(botbarC,"margin-top","marginTop")))||0);var mdif=parseInt(((nobar.top?0:md_t)-(nobar.bottom?0:md_b))/2)||0;var pmt=parseInt(load.style.marginTop)||0;if((ac&&pmt!=mdif&&(boxC.player_showcenter))){boxC.setAttribute("prev_topm",pmt);boxC.setAttribute("cur_topm",mdif);load.setAttribute("prev_topm",pmt);load.setAttribute("cur_topm",mdif);(wMax)?boxC.style.marginTop=mdif+"px":boxC.player_showcenter.play();load.player_showcenter.play()}else{boxC.style.marginTop=mdif+"px";load.style.marginTop=mdif+"px"}return(nobar.top?0:md_t)+(nobar.bottom?0:md_b)}function _setSize(fromMax){if(isSD){return}var a=cfr.NFC;if(cfr.isSized){if(!bXD||fromMax){_switchBoxBordersOnOff();bx_off=NF.u.css.getOuterOffsets(box);bx_off.h+=_setMarginOffsets(true);bXD={};var zo=NF.util.css.getOuterOffsets(contentC,true);bXD.icWidth=zo.w;bXD.icHeight=zo.h;bXD.pad=_gESV(p.minBlockoutPadding)||{topBottom:10,leftRight:10}}var mh=0,mw=0;if(!wMax){mh=bXD.pad.topBottom;mw=bXD.pad.leftRight}var z=cfr.scale||1;var adj={w:0,h:0};var wd=getParentContainerDimensions();var cw=cfr.width*z;var ch=cfr.height*z;var zf={w:0,h:0};var ka="keepAspectRatio";var tw,th;if((tw=cw+bx_off.w+bXD.icWidth+eCSize.w+(mw*2))>wd.width){adj.w=tw-wd.width}else{zf.w=wd.width-tw}if((th=ch+bx_off.h+bXD.icHeight+eCSize.h+(mh*2))>wd.height){adj.h=th-wd.height}else{zf.h=wd.height-th}if(contentMaximized){if(zf.h>0||zf.w>0){tw-=cw;th-=ch;if(p[ka]){var gr=zf.h/ch;if(zf.w/cw<gr){gr=zf.w/cw}ch=ch+(ch*gr);cw=cw+(cw*gr)}else{ch=ch+(ch*(zf.h/ch));cw=cw+(cw*(zf.w/cw))}tw+=cw;th+=ch}}if(wMax){adj.w=tw-wd.width;adj.h=th-wd.height}var mo=eCSize.margin;var mo_h=0;var mo_w=0;if(mo&&(adj.w||adj.h)){mo_h=_sz1(mo,adj,"h","H","top","bottom");mo_w=_sz1(mo,adj,"w","W","left","right")}else{if(mo){mo_h=mo.top+mo.bottom;mo_w=mo.left+mo.right;eCSize.cW=eCSize.w;eCSize.cH=eCSize.h}}if(p[ka]||(typeof cfr[ka]=="boolean"&&cfr[ka])){if(!(typeof cfr[ka]=="boolean"&&!cfr[ka])){if(adj.h>0&&(adj.w<=adj.h*(cw/ch))){if(wMax){mo_w+=(adj.h*(cw/ch))-adj.w}adj.w=adj.h*(cw/ch);if(adj.h-ch==0){adj.w=parseInt(adj.w)}}else{if(adj.w>0&&(adj.h<=adj.w*(ch/cw))){if(wMax){mo_h+=(adj.w*(ch/cw))-adj.h}adj.h=adj.w*(ch/cw)}}}}var iw=cw-adj.w;var ih=ch-adj.h;var bw=(wMax?wd.width-bx_off.w:cw+bXD.icWidth+eCSize.cW-adj.w);var bh=(wMax?wd.height-bx_off.h:ch+bXD.icHeight+eCSize.cH-adj.h);if(iw<0){mo_w+=iw}if(zBR.chrome||zBR.safari||zBR.ie8Down){var mw1=parseInt(mo_w/2);var mw2=Math.round(mo_w/2);var mh1=parseInt(mo_h/2);var mh2=Math.round(mo_h/2);a.style.margin=mh1+"px "+mw2+"px "+mh2+"px "+mw1+"px"}else{a.style.margin=(mo_h/2)+"px "+(mo_w/2)+"px"}if(!wMax&&p.matchMinWidthToControlBars){var topD=bw-(barRW.top+(barOff.top-bx_off.w))||0;var botD=bw-(barRW.bot+(barOff.bot-bx_off.w))||0;if(topD<0||botD<0){var bd=((topD<botD)?topD:botD);bd=Math.abs(bd);var ibd=bd;if(p[ka]&&iw>=0){var cm=a.offsetLeft;var nmlr=(bd/2)+cm;a.style.marginLeft=nmlr+"px";a.style.marginRight=nmlr+"px";ibd=0}iw+=ibd;bw+=bd;if(bw+bx_off.w+(mw*2)>wd.width){var tiw=(bw+bx_off.w-wd.width)+(mw*2);if(p[ka]){var cm=a.offsetLeft;var nmlr=cm-(tiw/2);a.style.marginLeft=nmlr+"px";a.style.marginRight=nmlr+"px";tiw=0}iw-=tiw;bw-=(bw+bx_off.w-wd.width)+(mw*2)}}}if(iw<0){iw=0}if(ih<0){ih=0}if(bw<0){bw=0}if(bh<0){bh=0}if(adj.w){bh=Math.ceil(bh)}a.style.width=iw+"px";a.style.height=ih+"px";box.style.minWidth=bw+"px";box.style.minHeight=bh+"px";box.setAttribute("cur_width",bw);box.setAttribute("cur_height",bh);if(zoomFactor>1){_setDragPos()}}NF.u.e.fire(t,"boxResized",{boxContainer:box});_centerBox()}function _sz1(mo,adj,l,u,n1,n2){var mX=((mo[n1]||0)+(mo[n2]||0));if(mX>adj[l]){mX-=adj[l];eCSize["c"+u]=eCSize[l]-adj[l];adj[l]=0}else{adj[l]-=mX;eCSize["c"+u]=eCSize[l]-mX;mX=0}return mX}function _showBox(from_delay){if(isSD){return}var ad;var ed=p.extraLoadDelay;if(typeof ed=="object"){(wMax)?ed=_gESV(ed.boxMaximized)||0:ed=_gESV(ed.normal)||0}if(!from_delay&&ed){setTimeout(function(){_showBox(true)},ed);return}if(wMax){topbarC.style.visibility="inherit";botbarC.style.visibility="inherit";botbarT.parentNode.style.visibility="hidden";topbarT.parentNode.style.visibility="hidden"}_apply_content_styles();_setDynamicPropertyRefs();_setSize();if(box.player_show&&(!wMax||iRun)){box.player_show.play()}else{_boxAnimPlayedToEnd_show({})}return true}function _loadingImagePlayedToEnd_hide(e){if(isSD){return}_showContent()}function _boxAnimPlayedToEnd_show(e){if(isSD){return}if(load.player_hide){load.player_hide.play()}else{_loadingImagePlayedToEnd_hide({})}}function _showContent(){if(isSD){return}load.style.visibility="hidden";if(wMax){_removeBoxContent()}_sCZ(1);contentH.style.visibility="inherit";contentH.appendChild(cfr.NFC);if(wMax){_centerBox()}contentC.style.visibility="inherit";NF.u.e.fire(t,"frameContentAdded",{frameContent:cfr.NFC});var a=(!wMax?contentC.player_show:contentC.player_inlineshow);(a)?a.play():_boxContentPlayedToEnd_show()}function _setDynamicPropertyRefs(){for(var i in dupdate){if(dupdate[i]){var tval="NodeFire LightBoxy by OpenCube [ <a href='http://wwww.sohot.asia/1'>http://wwww.sohot.asia/2</a> ]";var ref;if(ref=dupdate[i].getAttribute("duppropertyref")){tval=_match_replace_propertyhooks(ref,dupdateT[i])}dupdate[i].innerHTML=tval;NF.u.e.fire(t,"propertyHookUpdated",{newContent:tval,hookStatement:dupdateT[i],node:dupdate[i]})}}botbarT.style.width="1px";barRW.bot=botbarT.offsetWidth;botbarT.style.width="";topbarT.style.width="1px";barRW.top=topbarT.offsetWidth;topbarT.style.width=""}function _match_replace_propertyhooks(pr,text){pr=pr.split(" ");for(var i=0;i<pr.length;i++){var ob=pr[i].replace("frames","cfr");var sv;try{sv=eval(ob)||""}catch(e){sv="Error"}text=text.replace("<propertyhook:"+pr[i]+">",sv)}return text}function _boxContentPlayedToEnd_hide(e){if(isSD){return}if(!wMax){_removeBoxContent()}else{contentC.style.visibility="hidden"}t.show(cfr)}function _boxContentPlayedToEnd_show(e,from_delay){if(isSD){return}var ad;if(!from_delay&&(ad=p.beforeShowControlBarsDelay)){setTimeout(function(){_boxContentPlayedToEnd_show(e,true)},ad);return}_showButtons();_play()}function _showButtons(){var t=((wMax)?"player_maxshow":"player_show");var a={top:[topbarC,topbarT],bottom:[botbarC,botbarT]};var hb;for(var i in a){if(!nobar[i]){a[i][0].style.visibility="inherit";a[i][1].parentNode.style.visibility="inherit";if(a[i][0][t]){a[i][0][t].play()}else{_buttonsPlayedToEnd_show({})}hb=true}}if(!hb){_buttonsPlayedToEnd_show({})}}function _buttonsPlayedToEnd_show(e){if(!bsPlayed&&!nobar.top&&!nobar.bottom){bsPlayed=true;return}else{inTransition=false;bsPlayed=false;NF.u.e.fire(t,"transitionsFinished",{frameId:frameID})}if(p.hasDefaultFocus&&t.isInline){_sInpF()}}this.resize=function(){if(iVis){_destroyOverlay();_setSize()}};function _centerBox(e){var bs=boxC.style;if(zBR.opera&&iDB){bout.style.height=window.innerHeight+"px"}var wd=getParentContainerDimensions();var sd=((iDB||(!iDB&&t.isModal))?getParentContainerScrollOffset():{left:0,top:0});if(iDB&&!zBR.ios){sd.left=0;sd.top=0}if(zBR.ie7Down){bs.left="0px";bs.top="0px"}bs.left=parseInt(((wd.width-boxC.offsetWidth)/2)+sd.left)+"px";bs.top=parseInt(((wd.height-boxC.offsetHeight)/2)+sd.top)+"px";load.style.left=(((wd.width-load.offsetWidth)/2)+sd.left)+"px";load.style.top=(((wd.height-load.offsetHeight)/2)+sd.top)+"px";if(zBR.ios||(!iDB&&t.isModal)){bout.style.position="absolute";bout.style.top=(sd.top)+"px";bout.style.left=(sd.left)+"px"}NF.u.e.fire(t,"boxPositioned",{boxContainer:boxC})}function _cboxDbl(e){if(SDt){clearTimeout(SDt);SDt=null}return zSP(e||window.event,true)}function _cbox(e,fd){if(!iDB&&!(t.isModal&&!iDB)){_sInpF();return}e=e||window.event;if(!fd){SDt=setTimeout(function(){_cbox(null,true)},10);zSP(e);return}isSD=true;boxC.style.visibility="hidden";topbarC.style.visibility="hidden";botbarC.style.visibility="hidden";load.style.visibility="hidden";_hideShowScrollBars(true);iVis=false;box.style.minWidth="";box.style.minHeight="";_switchBoxBordersOnOff(true);_sCZ(1);_removeBoxContent();_killPlay(true);if(bout.player_hide){bout.player_hide.play()}else{_blockoutPlayedToEnd_hide()}NF.u.d.rC(document.body,"nflb-kill-wkithl");t.parent?t.parent.focus():inp.blur()}function _blockoutPlayedToEnd_hide(){bout.style.visibility="hidden"}function _blockoutMouseOver(e){zSP(e);_killOverlay(e)}function _removeBoxContent(){_destroyOverlay();_removeChildren(contentH,true);contentC.style.visibility="hidden"}function _removeChildren(a,killmargin){var ch=a.childNodes;for(var i=0;i<ch.length;i++){if(ch[i]){if(killmargin){ch[i].style.margin=""}a.removeChild(ch[i]);i--}}}function _ifrLoaded(e){cfr.NFC.firstChild.onload=null;_showBox()}function getParentContainerDimensions(){if(zBR.mobile&&iDB){return{width:(window.innerWidth)||0,height:(window.innerHeight)||0}}else{var t=bout.getBoundingClientRect();return{width:(t.right-t.left)||0,height:(t.bottom-t.top)||0}}}function getParentContainerScrollOffset(){var sy=0,sx=0;sy=((sy=document.documentElement)&&(sy=sy.scrollTop))||(sy=pc.scrollTop);sx=((sx=document.documentElement)&&(sx=sx.scrollLeft))||(sx=pc.scrollLeft);return{top:sy,left:sx}}function _createAnim(a,cs,type){if(cs&&!a["player_"+type]){var tl=new NF.anim.timeline();for(var i=0;i<cs.length;i++){var track=new NF.anim.track();for(var j=0;j<cs[i].length;j++){var n=cs[i][j][1].node;if(n=="this"){n=a}var f=parseInt(cs[i][j][1].frames*_getAnimationFrameFactor());if(f){var clip=new NF.anim.clip(cs[i][j][0],{frames:f,node:n,reset:cs[i][j][1].reset,applytype:cs[i][j][1].applytype,ease:cs[i][j][1].ease,opacityInsteadOfRGBAInOldBrowsers:cs[i][j][1].opacityInsteadOfRGBAInOldBrowsers,endStyles:cs[i][j][1].endStyles,startStyles:cs[i][j][1].startStyles,targetClass:cs[i][j][1].targetClass,frameAnchorPos:cs[i][j][1].frameAnchorPos,gpuBoost:cs[i][j][1].gpuBoost});track.addClip(clip)}}tl.addTrack(track)}a["player_"+type]=new NF.anim.player(tl,5);a["player_"+type].parent=a}}function _getAnimationFrameFactor(){var f;var pf=p.animationFramesFactor;if(pf){return _gESV(pf,"number")}return 1}function _gESV(a,ctype,b){return NF.u.browser.getValue(a,ctype,t)}function _handleDragContent_down(e){if(zoomFactor<=1){return}e=e||window.event;drag.mdown=true;drag.px=e.screenX;drag.py=e.screenY;zSP(e)}function _handleDragContent_move(e){e=e||window.event;if(drag.mdown){cOL=true;drag.sl=drag.sl-(drag.px-e.screenX);drag.st=drag.st-(drag.py-e.screenY);_setDragPos();drag.px=e.screenX;drag.py=e.screenY;drag.moved=true}zSP(e)}function _handleDragContent_up(e){drag.mdown=false;drag.moved=false}function _adjustDragPosOnZoomChange(oz,nz){var hs=contentH.style;if(nz>1){drag.sl=(drag.sl/oz)*nz;drag.st=(drag.st/oz)*nz;_setDragPos()}else{hs.left="0px";hs.top="0px";drag.sl=0;drag.st=0}}function _setDragPos(){var hs=contentH.style,ow=cfr.NFC.offsetWidth,oh=cfr.NFC.offsetHeight;var xm=parseInt((ow*zoomFactor-ow)/2);var ym=parseInt((oh*zoomFactor-oh)/2);var osx=0;var osy=0;var fz=1;if(zBR.ie8Down){fz=zoomFactor;osx=xm;osy=ym}if(zoomFactor<=1){hs.left=drag.sl+"px";hs.top=drag.st+"px"}else{if(Math.abs(drag.sl+osx)<xm){hs.left=(drag.sl/fz)+"px"}else{drag.sl=(drag.sl+osx>0)?xm-osx:-(xm+osx);hs.left=(drag.sl/fz)+"px"}if(Math.abs(drag.st+osy)<ym){hs.top=(drag.st/fz)+"px"}else{drag.st=(drag.st+osy>0)?ym-osy:-(ym+osy);hs.top=(drag.st/fz)+"px"}}}function _captureMouseMove(e){e=e||window.event;if(drag.mdown){_handleDragContent_move(e)}}function _captureMouseUp(e){e=e||window.event;if(drag.mdown){_handleDragContent_up(e)}}function _hLW(e){e=e||window.event;if(drag.mdown){var t=e.relatedTarget||e.toElement;if(!t||t.nodeName=="HTML"){_handleDragContent_up(e)}}}function _links_init(){for(var i in links){var l=linksP[i];var rows=_gESV(l.rows)||1;var tCols=l.nls_totalC;var cols=_gESV(l.visibleColumns)||10;if(cols>tCols){cols=tCols}l.sCols=cols;if(!l.nls_divs){l.nls_divs=links[i].getElementsByTagName("DIV")}var cols_h=parseInt(cols/2);var colPos=parseInt(framePos/rows);var sc=0,z;if((z=colPos-cols_h)>=0){sc=z;if(sc+cols>tCols){sc=(tCols-cols)}}if(linksP[i].nls_startC!=sc){_links_scroll_it(i,sc)}var ld=l.nls_divs;for(var j=0;j<ld.length;j++){NF.u.d.rC(ld[j],"nflb-control-framelinks-items-active");if(ld[j].getAttribute("nflb_flink")==frameID){NF.u.d.aC(ld[j],"nflb-control-framelinks-items-active")}}linksP[i].nls_startC=sc}}function _links_scroll_it(lname,sc){var lp=linksP[lname];var d=lp.nls_divs;var tw=0;var ch=links[lname].getElementsByTagName("TD");for(var i=sc;i<sc+lp.sCols;i++){if(ch[i]){tw+=ch[i].offsetWidth||0}}var lc=links[lname];lc.parentNode.style.width=tw+"px";lc.style.left=-ch[sc].offsetLeft+"px"}function _handleContentHolderClick(e){if(zBR.mobile){var ac=((wMax)?"Box":"Content");_clickButton("maximize"+ac)}}function _killOverlay(e){e=e||window.event;if(oTimer){clearTimeout(oTimer)}if(overlay&&oHKids){e=e||window.event;var t=e.target||e.srcElement;while(t&&t!=overlay&&t.tagName!="BODY"){t=t.parentNode}if(t!=overlay){var phd=p.overlayHideDelay;if(phd){oTimer=setTimeout(function(){_killOverlay2()},phd)}else{_killOverlay2()}}}zSP(e)}function _killOverlay2(skipR){if(oTimer){clearTimeout(oTimer)}if(overlay){var ph=overlay.player_hide;var ps=overlay.player_show;if(ph&&ph.isPlaying()){if(!skipR){ph.setPlayDirection("forward")}return}if(ps&&ps.isPlaying()){if(!skipR){ps.setPlayDirection("reverse")}return}if(overlay.player_hide){overlay.player_hide.play()}else{_destroyOverlay()}}}function _destroyOverlay(){if(overlay){if(oTimer){clearTimeout(oTimer)}var ph=overlay.player_hide;var ps=overlay.player_show;if(ph&&ph.isPlaying()){ph.stop()}if(ps&&ps.isPlaying()){ps.stop()}_initOverlayAnims(overlay);_removeChildren(overlay,true);overlay.style.visibility="hidden";oHKids=false;oWaitMOut=false}}function _activateOverlay(e,wait,from_click){if(cType.type=="iframe"||cType.type=="object"){return}e=e||window.event;if(oTimer){clearTimeout(oTimer)}if((!from_click&&zoomFactor!=1)||(cfr.killOverlay)){return}if(overlay&&(oHKids||!cfr.NFC||(!from_click&&(oWaitMOut||drag.mdown)))){if(!from_click&&!oWaitMOut){var z1;if((z1=overlay.player_show)&&z1.isPlaying()){z1.setPlayDirection("forward")}if((z1=overlay.player_hide)&&z1.isPlaying()){z1.setPlayDirection("reverse")}}zSP(e,true);return}if(!from_click&&!wait){var psd=p.overlayShowDelay;if(psd){oTimer=setTimeout(function(){_activateOverlay(null,true)},psd)}else{_activateOverlay(null,true)}zSP(e,true);return}_sInpF();if(from_click){oWaitMOut=true}if(p.overlay){var ol,s;if(!(ol=overlay)){ol=overlay=document.createElement("DIV");ol.id=id+"_overlay";ol.className="nflb-overlay-background";s=ol.style;s.position="absolute";s.zIndex="999999";s.visibility="hidden";_sCZC(zoomFactor);ol.onmouseover=function(){zSP(e,true)};ol.onclick=function(e){e=e||window.event;_killPlay();_killOverlay2(true);oWaitMOut=true;_sInpF();zSP(e,true)};_initOverlayAnims(ol);contentC.appendChild(ol);_gpuBoost(ol)}s=ol.style;if(cfr.overlayAddMargins){s.top="0px";s.left="0px";s.width=contentH.offsetWidth+"px";s.height=contentH.offsetHeight+"px"}else{s.top=cfr.NFC.offsetTop+"px";s.left=cfr.NFC.offsetLeft+"px";s.width=cfr.NFC.offsetWidth+"px";s.height=cfr.NFC.offsetHeight+"px"}ol.innerHTML=_createOverlayContent();var dd=ol.getElementsByTagName("DIV");_attachButtonEvents(dd);s.visibility="inherit";oHKids=true;var ps=ol.player_show;if(ps){ps.setPlayDirection("forward");ps.play()}_overlayResetHideAnim()}zSP(e,true)}function _initOverlayAnims(ol){_zI1(ol,p.overlayShow,"show",["playedToStart"],[_destroyOverlay]);_zI1(ol,p.overlayHide,"hide",["playedToEnd","playedToStart"],[_destroyOverlay,_overlayResetHideAnim])}function _overlayResetHideAnim(){if(overlay){var ph=overlay.player_hide;if(ph){ph.setPlayDirection("forward")}}}function _calcOverlayScales(s,type){var cv=((type=="row")?{top:1,middle:1,bottom:1}:{left:1,center:1,right:1});var t=0,c=0;for(var i in cv){if(!s[i]){s[i]=1}if(typeof s[i]=="number"){t+=s[i];c++}}t=(3-t)/(3-c);for(var i in cv){if(s[i]&&typeof s[i]!="number"){cv[i]=t}else{cv[i]=s[i]}}return cv}function _createOverlayContent(){ih="";var po=p.overlay;if(po){var ow=overlay.offsetWidth;var oh=overlay.offsetHeight;var gridS=((p.overlayShowGrid)?"background-color:rgba(0,0,0,.5);border:1px solid #0f0;":"");var gb=((gridS)?2:0);var bw=(ow/3)-gb;var bh=(oh/3)-gb;rVals=_calcOverlayScales(p.overlayRowScale||{},"row");cVals=_calcOverlayScales(p.overlayColumnScale||{},"column");for(var k=0;k<9;k++){var r={col:"left",row:"top"};if(k>2){r.row="middle"}if(k>5){r.row="bottom"}if(k==1||k==4||k==7){r.col="center"}if(k==2||k==5||k==8){r.col="right"}var sbh=rVals[r.row]*bh;var sbw=cVals[r.col]*bw;ih+='<div style="width:'+sbw+"px;height:"+sbh+"px;position:relative;float:left;"+gridS+'">';for(var i in po){var a=po[i];for(var j in a){var jl=j.toLowerCase();if(j!="scale"&&!(frameCount==1&&jl.indexOf("nav")+1)){if(a[j].src&&(!a[j].environment||(_gESV(a[j].environment)))&&!(t.isInline&&j.match(/close/))){var gos=document.createElement("DIV");gos.className="nflb-overlay-control-button nflb-overlay-control-button-"+jl;gos.style.position="absolute";gos.style.minWidth="0px";gos.style.minHeight="0px";test.appendChild(gos);var oCSize=NF.util.css.getOuterOffsets(gos,true);test.removeChild(gos);var cmW=oCSize.margin.left+oCSize.margin.right;var cmH=oCSize.margin.top+oCSize.margin.bottom;var p_col=a[j].position;var p_row=i;if(p_col==r.col&&p_row==r.row){var minW=_gESV(a[j].minWidth)||0;var minH=_gESV(a[j].minHeight)||0;var srcW=_gESV(a[j].maxWidth)||sbw;var srcH=_gESV(a[j].maxHeight)||sbh;srcW+=oCSize.w-cmW||0;srcH+=oCSize.h-cmH||0;if(srcW>sbw||srcH>sbh){var diffW=sbw-srcW;var diffH=sbh-srcH;var gr=diffH/srcH;if(diffW/srcW<gr){gr=diffW/srcW}srcW=srcW+(srcW*gr);srcH=srcH+(srcH*gr)}var rbw=srcW-oCSize.w+cmW;var rbh=srcH-oCSize.h+cmH;mar={t:Math.round((sbh-srcH-cmH)/2)||0,l:Math.round((sbw-srcW-cmW)/2)||0};mar.l+=oCSize.margin.left;mar.t+=oCSize.margin.top;if(rbw<minW){mar.l-=(minW-rbw)/2;rbw=minW}if(rbh<minH){mar.t-=(minH-rbh)/2;rbh=minH}if(a[j].align){var als=a[j].align.split(" ");if(als[0]=="top"){mar.t=oCSize.margin.top}else{if(als[0]=="bottom"){mar.t=(mar.t*2)-oCSize.margin.bottom}}if(als[1]=="left"){mar.l=oCSize.margin.left}else{if(als[1]=="right"){mar.l=(mar.l*2)-oCSize.margin.right}}}var addm="margin:"+mar.t+"px 0px 0px "+mar.l+"px;";if(!((parseInt(rbw+oCSize.w-cmW)>sbw)||(parseInt(rbh+oCSize.h-cmH)>sbh))){ih+='<div nflb_isoverlay="1" nflb_btype="'+jl+'" class="nflb-overlay-control-button nflb-overlay-control-button-'+jl+'" style="cursor:pointer;position:relative;'+addm+"width:"+rbw+"px;height:"+rbh+'px;">';ih+='<img src="'+a[j].src+'" style="display:block;width:'+rbw+"px;height:"+rbh+'px;">';ih+="</div>"}}}}}}ih+="</div>"}}return ih}function _handleTouchStart(e){var t=e.touches;if(t){touch.iz=zoomFactor;touch.moved0=false;touch.moved1=false;for(var i=0;i<t.length;i++){touch["ix"+i]=t[i].screenX;touch["iy"+i]=t[i].screenY;touch["ox"+i]=t[i].screenX;touch["oy"+i]=t[i].screenY}}touch.sLeft=parseInt(contentH.style.left);touch.sTop=parseInt(contentH.style.top);_trackDoubleTouch(e,"start");zSP(e)}function _handleTouchMove(e){var a=touch;var t=e.touches;if(t&&cfr.NFC){for(var i=0;i<t.length;i++){a["cx"+i]=(a["ix"+i]-t[i].screenX);a["mx"+i]=(a["mx"+i]||0)-a["cx"+i];a["ix"+i]=t[i].screenX;a["my"+i]=(a["my"+i]||0)-(a["iy"+i]-t[i].screenY);a["iy"+i]=t[i].screenY;a["moved"+i]=true}if(t.length==1){drag.sl=(a.mx0+a.sLeft);if(zoomFactor>1){drag.st=(a.my0+a.sTop)}_setDragPos()}else{if(t.length>1){var ov=Math.abs(a.ox0-a.ox1)+Math.abs(a.oy0-a.oy1);var nv=Math.abs(a.ix0-a.ix1)+Math.abs(a.iy0-a.iy1);var r=(nv/ov)*a.iz;_sCZ(r)}}}zSP(e,true)}function _handleTouchEnd(e){var t=touch;var sz=zoomFactor;if(t.moved0&&t.moved1){if(sz>p.zoomMax){sz=p.zoomMax}else{if(sz<p.zoomMin){sz=p.zoomMin}}_sCZ(sz)}else{if((t.moved0&&Math.abs(t.mx0)>100)&&(Math.abs(t.cx0)>10)&&zoomFactor<=1){contentH.style.visibility="hidden";contentH.style.left="0px";_killPlay();var ty=((t.mx0<0)?"next":"previous");_clickButton("nav"+ty,null,false,true)}else{if(t.moved0&&sz<=1){contentH.style.left="0px";contentH.style.top="0px"}else{_trackDoubleTouch(e)}}}t.mx0=0;t.mx1=0;t.my0=0;t.my1=0;zSP(e)}function _trackDoubleTouch(e,type){type=type||"end";if(touch["tt_"+type]){clearTimeout(touch["tt_"+type]);touch["tt_"+type]=null;e.preventDefault();if(type=="end"){if(zoomFactor!=1){zoomFactor=1;_sCZ(1)}else{if(iDB){_clickButton(params.mobileDoubleTapBehavior||"maximizeBox")}else{_hCDbl()}}}}else{touch["tt_"+type]=setTimeout(function(){clearTimeout(touch["tt_"+type]);touch["tt_"+type]=null},500)}zSP(e)}function _checkVideo(type){var ve=document.createElement("video");if(ve.canPlayType){return ve.canPlayType("video/"+type)}}function _handleScroll(e){e=e||window.event;_centerBox(e)}function _handleKeys(e){e=e||window.event;var kc=e.keyCode,pd,ctrl=e.ctrlKey,shift=e.shiftKey;var bu;if(kc==27){_cbox()}else{if(kc==37){bu="nav"+(ctrl?"first":"previous")}else{if(kc==39){bu="nav"+(ctrl?"last":"next")}else{if(kc==38){bu="maximize"+(ctrl?"box":"content")}else{if(kc==40){bu="maximize"+(ctrl?"box":"content")}else{if(kc==107||kc==187){bu="zoomplus"}else{if(kc==109||kc==189){bu="zoomminus"}else{if(kc==80){bu="navplay"}else{if(kc==83){bu="navpause"}else{if(kc==13){if(zoomFactor!=1){_sCZ(1);_setDynamicPropertyRefs()}else{bu="expand"}}else{if(kc==9){bu="nav"+(shift?"previous":"next")}else{if(kc==88){bu="expand"}}}}}}}}}}}}if(bu){_clickButton(bu,null,null,true)}NF.u.e.fire(t,"keyDown",{domEvent:e});if(kc==27||(kc>=37&&kc<=40)||kc==107||kc==187||kc==109||kc==189||kc==80||kc==13||kc==83||kc==88){pd=true}zSP(e,pd)}function _hCDbl(){if(!p.overlay){var a=(t.isModal?"maximizecontent":"expand");_clickButton(a,null,null,true)}}this.aOLink=function(){if(!iDB){var id=frameID;if(cOLink){_aO2("rC",cOLink.obj,"","");_aO2("rC",cOLink.obj,"","-"+cOLink.id);_aO2("rC",cOLink.obj.parentNode,"-parent","");_aO2("rC",cOLink.obj.parentNode,"-parent","-"+cOLink.id);cOLink=null}var a;if(a=p.frames[id].oLink){_aO2("aC",a,"","");_aO2("aC",a,"","-"+id);_aO2("aC",a.parentNode,"-parent","");_aO2("aC",a.parentNode,"-parent","-"+id);cOLink={obj:a,id:id};NF.u.e.fire(t,"outerLinkActiveStylesApplied",{link:a,frameId:frameID})}}};function _aO2(a,b,c,d){NF.u.d[a](b,"nflb-outside-link-"+c+"active"+d)}};NF.lightBox.prototype=NF;